
PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [Gathering Facts] *********************************************************
Friday 07 June 2024  03:13:03 -0400 (0:00:00.030)       0:00:00.030 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  03:13:06 -0400 (0:00:02.925)       0:00:02.956 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  03:13:13 -0400 (0:00:07.363)       0:00:10.319 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  03:13:13 -0400 (0:00:00.059)       0:00:10.379 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  03:13:34 -0400 (0:00:21.136)       0:00:31.515 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  03:13:35 -0400 (0:00:00.445)       0:00:31.961 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.019444'
    end: '2024-06-07 03:13:35.100021'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 03:13:35.080577'
    stderr: ''
    stderr_lines: []
    stdout: ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.47, 0.45, 0.48'
    stdout_lines:
    - ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.47, 0.45, 0.48'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.010330'
    end: '2024-06-07 03:13:35.063030'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 03:13:35.052700'
    stderr: ''
    stderr_lines: []
    stdout: ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.24, 0.50, 0.59'
    stdout_lines:
    - ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.24, 0.50, 0.59'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.027333'
    end: '2024-06-07 03:13:35.098279'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 03:13:35.070946'
    stderr: ''
    stderr_lines: []
    stdout: ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.34, 0.29, 0.35'
    stdout_lines:
    - ' 03:13:35 up 3 days, 16:14,  0 users,  load average: 0.34, 0.29, 0.35'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.011668'
    end: '2024-06-07 03:13:35.095798'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 03:13:35.084130'
    stderr: ''
    stderr_lines: []
    stdout: ' 03:13:35 up 3 days, 16:14,  1 user,  load average: 0.09, 0.19, 0.23'
    stdout_lines:
    - ' 03:13:35 up 3 days, 16:14,  1 user,  load average: 0.09, 0.19, 0.23'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  03:13:35 -0400 (0:00:00.052)       0:00:32.014 *********** 
changed: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
changed: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
changed: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
changed: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
changed: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
changed: [ceph-node-02.cephlab.com] => (item=bind-utils)
changed: [ceph-node-03.cephlab.com] => (item=bind-utils)
changed: [ceph-node-02.cephlab.com] => (item=nc)
changed: [ceph-node-03.cephlab.com] => (item=nc)
changed: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
changed: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
changed: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
changed: [ceph-node-00.cephlab.com] => (item=bind-utils)
changed: [ceph-node-02.cephlab.com] => (item=vim)
changed: [ceph-node-03.cephlab.com] => (item=vim)
changed: [ceph-node-00.cephlab.com] => (item=nc)
changed: [ceph-node-01.cephlab.com] => (item=bind-utils)
changed: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
changed: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
changed: [ceph-node-01.cephlab.com] => (item=nc)
changed: [ceph-node-00.cephlab.com] => (item=vim)
changed: [ceph-node-01.cephlab.com] => (item=vim)
changed: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
changed: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  03:14:36 -0400 (0:01:01.019)       0:01:33.033 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=7    changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=7    changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=7    changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=7    changed=3    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

Friday 07 June 2024  03:14:37 -0400 (0:00:00.904)       0:01:33.938 *********** 
=============================================================================== 
deploy_ceph : Install necessary packages ------------------------------- 61.02s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 21.14s
deploy_ceph : Update all OS packages ------------------------------------ 7.36s
Gathering Facts --------------------------------------------------------- 2.93s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.90s
deploy_ceph : Check the Uptime of the servers --------------------------- 0.45s
deploy_ceph : Reboot the server ----------------------------------------- 0.06s
deploy_ceph : debug ----------------------------------------------------- 0.05s

PLAY [Bootstrap Ceph Cluster] **************************************************

PLAY RECAP *********************************************************************

Friday 07 June 2024  03:19:09 -0400 (0:00:00.188)       0:00:00.188 *********** 
=============================================================================== 

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Register with Red Hat subscription] ************************
Friday 07 June 2024  03:19:23 -0400 (0:00:00.104)       0:00:00.104 *********** 
fatal: [ceph-node-01.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-02.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-03.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-00.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  03:19:23 -0400 (0:00:00.047)       0:00:00.151 *********** 
=============================================================================== 
deploy_ceph : Register with Red Hat subscription ------------------------ 0.05s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  03:26:29 -0400 (0:00:00.098)       0:00:00.098 *********** 
fatal: [ceph-node-01.cephlab.com]: FAILED! => changed=false 
  msg: 'Unsupported parameters for (ansible.builtin.get_url) module: register. Supported parameters include: attributes, backup, checksum, ciphers, client_cert, client_key, decompress, dest, force, force_basic_auth, group, headers, http_agent, mode, owner, selevel, serole, setype, seuser, timeout, tmp_dest, unredirected_headers, unsafe_writes, url, url_password, url_username, use_gssapi, use_netrc, use_proxy, validate_certs (attr, password, username).'
fatal: [ceph-node-03.cephlab.com]: FAILED! => changed=false 
  msg: 'Unsupported parameters for (ansible.builtin.get_url) module: register. Supported parameters include: attributes, backup, checksum, ciphers, client_cert, client_key, decompress, dest, force, force_basic_auth, group, headers, http_agent, mode, owner, selevel, serole, setype, seuser, timeout, tmp_dest, unredirected_headers, unsafe_writes, url, url_password, url_username, use_gssapi, use_netrc, use_proxy, validate_certs (attr, password, username).'
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=false 
  msg: 'Unsupported parameters for (ansible.builtin.get_url) module: register. Supported parameters include: attributes, backup, checksum, ciphers, client_cert, client_key, decompress, dest, force, force_basic_auth, group, headers, http_agent, mode, owner, selevel, serole, setype, seuser, timeout, tmp_dest, unredirected_headers, unsafe_writes, url, url_password, url_username, use_gssapi, use_netrc, use_proxy, validate_certs (attr, password, username).'
fatal: [ceph-node-02.cephlab.com]: FAILED! => changed=false 
  msg: 'Unsupported parameters for (ansible.builtin.get_url) module: register. Supported parameters include: attributes, backup, checksum, ciphers, client_cert, client_key, decompress, dest, force, force_basic_auth, group, headers, http_agent, mode, owner, selevel, serole, setype, seuser, timeout, tmp_dest, unredirected_headers, unsafe_writes, url, url_password, url_username, use_gssapi, use_netrc, use_proxy, validate_certs (attr, password, username).'

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  03:26:31 -0400 (0:00:01.258)       0:00:01.356 *********** 
=============================================================================== 
deploy_ceph : Enable IBM Ceph repository -------------------------------- 1.26s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  04:17:21 -0400 (0:00:00.075)       0:00:00.075 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  04:17:23 -0400 (0:00:02.556)       0:00:02.632 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  04:17:52 -0400 (0:00:28.203)       0:00:30.836 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  04:17:52 -0400 (0:00:00.498)       0:00:31.334 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  04:18:03 -0400 (0:00:10.795)       0:00:42.129 *********** 
=============================================================================== 
deploy_ceph : Install IBM Storage Ceph license ------------------------- 28.20s
deploy_ceph : Install cephadm-ansible ---------------------------------- 10.80s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 2.56s
deploy_ceph : Accept IBM Storage Ceph license --------------------------- 0.50s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Register with Red Hat subscription] ************************
Friday 07 June 2024  04:26:34 -0400 (0:00:00.081)       0:00:00.081 *********** 
fatal: [ceph-node-01.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-02.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-03.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-00.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 2, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
    ---
    - name: Register with Red Hat subscription
      ^ here

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  04:26:34 -0400 (0:00:00.056)       0:00:00.137 *********** 
=============================================================================== 
deploy_ceph : Register with Red Hat subscription ------------------------ 0.06s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Gather facts] **********************************************
Friday 07 June 2024  04:36:37 -0400 (0:00:00.140)       0:00:00.140 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Register with Red Hat subscription] ************************
Friday 07 June 2024  04:36:40 -0400 (0:00:02.646)       0:00:02.787 *********** 
fatal: [ceph-node-01.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 5, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-02.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 5, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-03.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 5, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: Register with Red Hat subscription
      ^ here
fatal: [ceph-node-00.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"' failed. The error was: error while evaluating conditional (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9"): 'ansible_distribution' is undefined. 'ansible_distribution' is undefined
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/register_rhel.yml': line 5, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: Register with Red Hat subscription
      ^ here

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  04:36:40 -0400 (0:00:00.052)       0:00:02.839 *********** 
=============================================================================== 
deploy_ceph : Gather facts ---------------------------------------------- 2.65s
deploy_ceph : Register with Red Hat subscription ------------------------ 0.05s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Gather facts] **********************************************
Friday 07 June 2024  04:39:15 -0400 (0:00:00.086)       0:00:00.086 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Register with Red Hat subscription] ************************
Friday 07 June 2024  04:39:17 -0400 (0:00:01.769)       0:00:01.855 *********** 
fatal: [ceph-node-03.cephlab.com]: FAILED! => changed=false 
  msg: 'Failed to find required executable "subscription-manager" in paths: /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin'
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=false 
  msg: 'Failed to find required executable "subscription-manager" in paths: /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin'
fatal: [ceph-node-01.cephlab.com]: FAILED! => changed=false 
  msg: 'Failed to find required executable "subscription-manager" in paths: /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin'
fatal: [ceph-node-02.cephlab.com]: FAILED! => changed=false 
  msg: 'Failed to find required executable "subscription-manager" in paths: /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin'

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  04:39:17 -0400 (0:00:00.465)       0:00:02.321 *********** 
=============================================================================== 
deploy_ceph : Gather facts ---------------------------------------------- 1.77s
deploy_ceph : Register with Red Hat subscription ------------------------ 0.47s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  04:39:51 -0400 (0:00:00.109)       0:00:00.109 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  04:39:56 -0400 (0:00:05.204)       0:00:05.313 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  04:39:56 -0400 (0:00:00.077)       0:00:05.391 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  04:40:17 -0400 (0:00:20.994)       0:00:26.385 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  04:40:18 -0400 (0:00:00.581)       0:00:26.966 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005615'
    end: '2024-06-07 04:40:17.964074'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:40:17.958459'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:40:17 up 3 days, 17:41,  0 users,  load average: 0.42, 0.35, 0.39'
    stdout_lines:
    - ' 04:40:17 up 3 days, 17:41,  0 users,  load average: 0.42, 0.35, 0.39'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005732'
    end: '2024-06-07 04:40:17.983185'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:40:17.977453'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:40:17 up 3 days, 17:41,  0 users,  load average: 1.07, 0.70, 0.61'
    stdout_lines:
    - ' 04:40:17 up 3 days, 17:41,  0 users,  load average: 1.07, 0.70, 0.61'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006510'
    end: '2024-06-07 04:40:18.149442'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:40:18.142932'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:40:18 up 3 days, 17:41,  0 users,  load average: 0.56, 0.53, 0.58'
    stdout_lines:
    - ' 04:40:18 up 3 days, 17:41,  0 users,  load average: 0.56, 0.53, 0.58'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005417'
    end: '2024-06-07 04:40:17.990602'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:40:17.985185'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:40:17 up 3 days, 17:41,  1 user,  load average: 0.73, 0.54, 0.46'
    stdout_lines:
    - ' 04:40:17 up 3 days, 17:41,  1 user,  load average: 0.73, 0.54, 0.46'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  04:40:18 -0400 (0:00:00.067)       0:00:27.034 *********** 
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  04:40:28 -0400 (0:00:10.566)       0:00:37.600 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  04:40:29 -0400 (0:00:00.643)       0:00:38.244 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  04:40:30 -0400 (0:00:00.997)       0:00:39.241 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  04:41:16 -0400 (0:00:45.569)       0:01:24.810 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  04:41:16 -0400 (0:00:00.370)       0:01:25.181 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  04:41:17 -0400 (0:00:01.384)       0:01:26.565 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  04:41:18 -0400 (0:00:00.321)       0:01:26.887 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  04:41:18 -0400 (0:00:00.542)       0:01:27.429 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  04:41:18 -0400 (0:00:00.062)       0:01:27.491 *********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  04:41:18 -0400 (0:00:00.019)       0:01:27.511 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  04:41:20 -0400 (0:00:01.904)       0:01:29.416 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  04:41:21 -0400 (0:00:00.591)       0:01:30.008 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  04:41:23 -0400 (0:00:01.803)       0:01:31.811 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  04:41:23 -0400 (0:00:00.299)       0:01:32.111 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  04:41:23 -0400 (0:00:00.056)       0:01:32.167 *********** 
skipping: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  04:41:29 -0400 (0:00:06.159)       0:01:38.327 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  04:41:30 -0400 (0:00:00.723)       0:01:39.050 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  04:41:30 -0400 (0:00:00.018)       0:01:39.069 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  04:41:30 -0400 (0:00:00.027)       0:01:39.097 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  04:41:30 -0400 (0:00:00.478)       0:01:39.575 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  04:41:33 -0400 (0:00:02.952)       0:01:42.528 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  04:41:34 -0400 (0:00:00.825)       0:01:43.353 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  04:41:34 -0400 (0:00:00.045)       0:01:43.398 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  04:41:34 -0400 (0:00:00.200)       0:01:43.598 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  04:41:35 -0400 (0:00:00.373)       0:01:43.972 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  04:41:35 -0400 (0:00:00.420)       0:01:44.393 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  04:41:35 -0400 (0:00:00.202)       0:01:44.595 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.206)       0:01:44.801 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read intermediate certificate (if exists)] *****************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.219)       0:01:45.021 *********** 
fatal: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cat
  - /tmp/intermediate.crt
  delta: '0:00:00.002597'
  end: '2024-06-07 04:41:36.397970'
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 04:41:36.395373'
  stderr: 'cat: /tmp/intermediate.crt: No such file or directory'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.190)       0:01:45.211 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.200)       0:01:45.412 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.193)       0:01:45.606 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  04:41:36 -0400 (0:00:00.033)       0:01:45.639 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  04:41:37 -0400 (0:00:00.631)       0:01:46.270 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=15   changed=4    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=37   changed=16   unreachable=0    failed=0    skipped=3    rescued=0    ignored=1   
ceph-node-02.cephlab.com   : ok=16   changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=16   changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

Friday 07 June 2024  04:41:41 -0400 (0:00:04.227)       0:01:50.498 *********** 
=============================================================================== 
deploy_ceph : Install IBM Storage Ceph license ------------------------- 45.57s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 20.99s
deploy_ceph : Install necessary packages ------------------------------- 10.57s
deploy_ceph : Add host to the Ceph cluster ------------------------------ 6.16s
deploy_ceph : Update all OS packages ------------------------------------ 5.20s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 4.23s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 2.95s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.90s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.80s
deploy_ceph : Install cephadm-ansible ----------------------------------- 1.38s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 1.00s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.83s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.72s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.64s
deploy_ceph : Render the RGW ingress service spec template -------------- 0.63s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.59s
deploy_ceph : Check the Uptime of the servers --------------------------- 0.58s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.54s
deploy_ceph : Render the OSD service spec template ---------------------- 0.48s
deploy_ceph : Generate a private key ------------------------------------ 0.42s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  04:53:32 -0400 (0:00:00.083)       0:00:00.083 *********** 

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  04:56:02 -0400 (0:00:00.081)       0:00:00.081 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  04:56:10 -0400 (0:00:07.507)       0:00:07.588 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  04:56:10 -0400 (0:00:00.073)       0:00:07.662 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  04:56:31 -0400 (0:00:20.962)       0:00:28.624 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  04:56:31 -0400 (0:00:00.398)       0:00:29.023 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005493'
    end: '2024-06-07 04:56:31.860137'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:56:31.854644'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.06, 0.22, 0.37'
    stdout_lines:
    - ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.06, 0.22, 0.37'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006700'
    end: '2024-06-07 04:56:31.859645'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:56:31.852945'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.06, 0.23, 0.45'
    stdout_lines:
    - ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.06, 0.23, 0.45'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006302'
    end: '2024-06-07 04:56:31.853080'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:56:31.846778'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.00, 0.23, 0.46'
    stdout_lines:
    - ' 04:56:31 up 3 days, 17:57,  0 users,  load average: 0.00, 0.23, 0.46'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006297'
    end: '2024-06-07 04:56:31.847582'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 04:56:31.841285'
    stderr: ''
    stderr_lines: []
    stdout: ' 04:56:31 up 3 days, 17:57,  2 users,  load average: 0.28, 0.33, 0.42'
    stdout_lines:
    - ' 04:56:31 up 3 days, 17:57,  2 users,  load average: 0.28, 0.33, 0.42'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  04:56:31 -0400 (0:00:00.080)       0:00:29.103 *********** 
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  04:56:39 -0400 (0:00:07.602)       0:00:36.706 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  04:56:40 -0400 (0:00:00.585)       0:00:37.291 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  04:56:41 -0400 (0:00:00.949)       0:00:38.241 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  05:01:38 -0400 (0:04:57.634)       0:05:35.875 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  05:01:39 -0400 (0:00:00.403)       0:05:36.279 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  05:01:40 -0400 (0:00:01.248)       0:05:37.528 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  05:01:40 -0400 (0:00:00.312)       0:05:37.840 *********** 
fatal: [ceph-node-03.cephlab.com]: FAILED! => changed=false 
  cmd: podman login --get-login cp.icr.io/cp
  msg: '[Errno 2] No such file or directory: b''podman'''
  rc: 2
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
fatal: [ceph-node-01.cephlab.com]: FAILED! => changed=false 
  cmd: podman login --get-login cp.icr.io/cp
  msg: '[Errno 2] No such file or directory: b''podman'''
  rc: 2
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
fatal: [ceph-node-02.cephlab.com]: FAILED! => changed=false 
  cmd: podman login --get-login cp.icr.io/cp
  msg: '[Errno 2] No such file or directory: b''podman'''
  rc: 2
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=false 
  cmd: podman login --get-login cp.icr.io/cp
  msg: '[Errno 2] No such file or directory: b''podman'''
  rc: 2
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=10   changed=3    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=11   changed=3    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=10   changed=3    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=10   changed=3    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Friday 07 June 2024  05:01:41 -0400 (0:00:00.404)       0:05:38.245 *********** 
=============================================================================== 
deploy_ceph : Install IBM Storage Ceph license ------------------------ 297.63s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 20.96s
deploy_ceph : Install necessary packages -------------------------------- 7.60s
deploy_ceph : Update all OS packages ------------------------------------ 7.51s
deploy_ceph : Install cephadm-ansible ----------------------------------- 1.25s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 0.95s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.59s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.40s
deploy_ceph : Accept IBM Storage Ceph license --------------------------- 0.40s
deploy_ceph : Check the Uptime of the servers --------------------------- 0.40s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.31s
deploy_ceph : debug ----------------------------------------------------- 0.08s
deploy_ceph : Reboot the server ----------------------------------------- 0.07s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:02:34 -0400 (0:00:00.010)       0:00:00.010 *********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.039)       0:00:00.049 *********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.012)       0:00:00.061 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.092)       0:00:00.154 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.065)       0:00:00.219 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.062)       0:00:00.282 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Friday 07 June 2024  05:02:35 -0400 (0:00:00.062)       0:00:00.345 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Friday 07 June 2024  05:02:37 -0400 (0:00:02.106)       0:00:02.451 *********** 
ok: [ceph-node-02.cephlab.com] => (item=$basearch)
ok: [ceph-node-03.cephlab.com] => (item=$basearch)
ok: [ceph-node-00.cephlab.com] => (item=$basearch)
ok: [ceph-node-01.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Friday 07 June 2024  05:02:37 -0400 (0:00:00.404)       0:00:02.856 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Friday 07 June 2024  05:02:37 -0400 (0:00:00.049)       0:00:02.905 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Friday 07 June 2024  05:02:37 -0400 (0:00:00.039)       0:00:02.945 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Friday 07 June 2024  05:02:37 -0400 (0:00:00.049)       0:00:02.994 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Friday 07 June 2024  05:02:37 -0400 (0:00:00.041)       0:00:03.036 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Friday 07 June 2024  05:02:38 -0400 (0:00:00.055)       0:00:03.092 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [install package] *********************************************************
Friday 07 June 2024  05:02:38 -0400 (0:00:00.642)       0:00:03.734 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Friday 07 June 2024  05:02:41 -0400 (0:00:03.021)       0:00:06.755 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:02:50 -0400 (0:00:08.982)       0:00:15.738 *********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Friday 07 June 2024  05:03:02 -0400 (0:00:12.103)       0:00:27.842 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.921)       0:00:28.763 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.054)       0:00:28.817 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.054)       0:00:28.872 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.059)       0:00:28.932 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.047)       0:00:28.979 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:03:03 -0400 (0:00:00.050)       0:00:29.030 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.062)       0:00:29.093 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.058)       0:00:29.152 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd) 
skipping: [ceph-node-01.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-02.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd) 
skipping: [ceph-node-03.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.065)       0:00:29.218 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.050)       0:00:29.269 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.047)       0:00:29.317 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.123)       0:00:29.440 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.061)       0:00:29.502 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Friday 07 June 2024  05:03:04 -0400 (0:00:00.095)       0:00:29.597 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Friday 07 June 2024  05:03:04 -0400 (0:00:00.112)       0:00:29.710 *********** 
=============================================================================== 
install prerequisites packages ----------------------------------------- 12.10s
install ceph-common on rhel --------------------------------------------- 8.98s
install package --------------------------------------------------------- 3.02s
configure ceph repository key ------------------------------------------- 2.11s
ensure chronyd is running ----------------------------------------------- 0.92s
enable required CentOS repository for epel ------------------------------ 0.64s
configure ceph stable repository ---------------------------------------- 0.40s
install docker ---------------------------------------------------------- 0.12s
add registry as insecure registry in registries.conf -------------------- 0.11s
fail if insecure_registry is undefined ---------------------------------- 0.10s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.09s
uninstall old version packages ------------------------------------------ 0.07s
enable red hat ceph storage tools repository ---------------------------- 0.07s
disable older rhceph repositories if any -------------------------------- 0.06s
install prerequisites packages ------------------------------------------ 0.06s
set_fact _ceph_repo ----------------------------------------------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.06s
configure Ceph community repository ------------------------------------- 0.06s
install podman ---------------------------------------------------------- 0.06s
setup custom repositories ----------------------------------------------- 0.06s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  05:03:05 -0400 (0:00:00.078)       0:00:00.078 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  05:03:16 -0400 (0:00:11.153)       0:00:11.232 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  05:03:16 -0400 (0:00:00.060)       0:00:11.292 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  05:03:37 -0400 (0:00:20.985)       0:00:32.277 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  05:03:39 -0400 (0:00:01.456)       0:00:33.734 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.007545'
    end: '2024-06-07 05:03:38.026187'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:03:38.018642'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:03:38 up 3 days, 18:04,  0 users,  load average: 0.36, 0.23, 0.30'
    stdout_lines:
    - ' 05:03:38 up 3 days, 18:04,  0 users,  load average: 0.36, 0.23, 0.30'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.007279'
    end: '2024-06-07 05:03:37.991891'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:03:37.984612'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:03:37 up 3 days, 18:04,  0 users,  load average: 0.12, 0.14, 0.32'
    stdout_lines:
    - ' 05:03:37 up 3 days, 18:04,  0 users,  load average: 0.12, 0.14, 0.32'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006198'
    end: '2024-06-07 05:03:38.024647'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:03:38.018449'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:03:38 up 3 days, 18:04,  0 users,  load average: 0.18, 0.16, 0.34'
    stdout_lines:
    - ' 05:03:38 up 3 days, 18:04,  0 users,  load average: 0.18, 0.16, 0.34'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:01.008696'
    end: '2024-06-07 05:03:39.009606'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:03:38.000910'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:03:38 up 3 days, 18:04,  2 users,  load average: 0.36, 0.31, 0.38'
    stdout_lines:
    - ' 05:03:38 up 3 days, 18:04,  2 users,  load average: 0.36, 0.31, 0.38'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  05:03:39 -0400 (0:00:00.065)       0:00:33.799 *********** 
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  05:03:46 -0400 (0:00:07.833)       0:00:41.633 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  05:03:47 -0400 (0:00:00.617)       0:00:42.251 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  05:03:48 -0400 (0:00:00.953)       0:00:43.204 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  05:04:24 -0400 (0:00:36.291)       0:01:19.496 *********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  05:04:25 -0400 (0:00:00.408)       0:01:19.904 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  05:04:26 -0400 (0:00:01.230)       0:01:21.135 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  05:04:26 -0400 (0:00:00.287)       0:01:21.423 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  05:04:27 -0400 (0:00:00.544)       0:01:21.967 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  05:04:27 -0400 (0:00:00.064)       0:01:22.032 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:05:43 -0400 (0:01:16.428)       0:02:38.460 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:05:45 -0400 (0:00:01.765)       0:02:40.226 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:05:46 -0400 (0:00:00.488)       0:02:40.714 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:05:47 -0400 (0:00:01.875)       0:02:42.589 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:05:48 -0400 (0:00:00.277)       0:02:42.867 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:05:48 -0400 (0:00:00.069)       0:02:42.936 *********** 
skipping: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:06:03 -0400 (0:00:15.402)       0:02:58.339 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:06:04 -0400 (0:00:00.599)       0:02:58.939 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:06:04 -0400 (0:00:00.025)       0:02:58.965 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:06:04 -0400 (0:00:00.031)       0:02:58.996 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:06:04 -0400 (0:00:00.635)       0:02:59.632 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:06:10 -0400 (0:00:05.765)       0:03:05.398 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:06:11 -0400 (0:00:00.632)       0:03:06.030 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:06:11 -0400 (0:00:00.030)       0:03:06.061 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:06:11 -0400 (0:00:00.174)       0:03:06.235 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:06:11 -0400 (0:00:00.286)       0:03:06.522 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:06:12 -0400 (0:00:00.366)       0:03:06.889 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:06:12 -0400 (0:00:00.286)       0:03:07.175 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:06:12 -0400 (0:00:00.220)       0:03:07.396 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read intermediate certificate (if exists)] *****************
Friday 07 June 2024  05:06:12 -0400 (0:00:00.208)       0:03:07.604 *********** 
fatal: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cat
  - /tmp/intermediate.crt
  delta: '0:00:00.002701'
  end: '2024-06-07 05:06:13.147783'
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:06:13.145082'
  stderr: 'cat: /tmp/intermediate.crt: No such file or directory'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:06:13 -0400 (0:00:00.241)       0:03:07.846 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:06:13 -0400 (0:00:00.294)       0:03:08.140 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:06:13 -0400 (0:00:00.213)       0:03:08.353 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:06:13 -0400 (0:00:00.033)       0:03:08.387 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:06:14 -0400 (0:00:00.683)       0:03:09.071 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=15   changed=4    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=38   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=1   
ceph-node-02.cephlab.com   : ok=16   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=16   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

Friday 07 June 2024  05:06:18 -0400 (0:00:04.195)       0:03:13.267 *********** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 76.43s
deploy_ceph : Install IBM Storage Ceph license ------------------------- 36.29s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 20.99s
deploy_ceph : Add host to the Ceph cluster ----------------------------- 15.40s
deploy_ceph : Update all OS packages ----------------------------------- 11.15s
deploy_ceph : Install necessary packages -------------------------------- 7.83s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 5.77s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 4.20s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.88s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.77s
deploy_ceph : Check the Uptime of the servers --------------------------- 1.46s
deploy_ceph : Install cephadm-ansible ----------------------------------- 1.23s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 0.95s
deploy_ceph : Render the RGW ingress service spec template -------------- 0.68s
deploy_ceph : Render the OSD service spec template ---------------------- 0.64s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.63s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.62s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.60s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.54s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.49s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:11:19 -0400 (0:00:00.025)       0:00:00.025 *********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.068)       0:00:00.093 *********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.017)       0:00:00.111 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.111)       0:00:00.223 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-00.cephlab.com]
skipping: [ceph-node-03.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.054)       0:00:00.277 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.084)       0:00:00.362 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Friday 07 June 2024  05:11:20 -0400 (0:00:00.116)       0:00:00.479 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Friday 07 June 2024  05:11:21 -0400 (0:00:01.518)       0:00:01.997 *********** 
ok: [ceph-node-02.cephlab.com] => (item=$basearch)
ok: [ceph-node-01.cephlab.com] => (item=$basearch)
ok: [ceph-node-00.cephlab.com] => (item=$basearch)
ok: [ceph-node-03.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Friday 07 June 2024  05:11:22 -0400 (0:00:00.719)       0:00:02.717 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Friday 07 June 2024  05:11:22 -0400 (0:00:00.083)       0:00:02.800 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Friday 07 June 2024  05:11:22 -0400 (0:00:00.078)       0:00:02.878 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-03.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Friday 07 June 2024  05:11:22 -0400 (0:00:00.095)       0:00:02.974 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Friday 07 June 2024  05:11:22 -0400 (0:00:00.073)       0:00:03.047 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Friday 07 June 2024  05:11:23 -0400 (0:00:00.094)       0:00:03.141 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [install package] *********************************************************
Friday 07 June 2024  05:11:24 -0400 (0:00:01.199)       0:00:04.341 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Friday 07 June 2024  05:11:27 -0400 (0:00:03.641)       0:00:07.983 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:11:29 -0400 (0:00:01.426)       0:00:09.409 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Friday 07 June 2024  05:11:30 -0400 (0:00:01.489)       0:00:10.898 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.796)       0:00:11.695 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.060)       0:00:11.756 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.051)       0:00:11.808 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.048)       0:00:11.856 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.048)       0:00:11.904 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.055)       0:00:11.960 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.039)       0:00:12.000 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Friday 07 June 2024  05:11:31 -0400 (0:00:00.048)       0:00:12.048 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd) 
skipping: [ceph-node-01.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com] => (item=docker) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-03.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd) 
skipping: [ceph-node-03.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.097)       0:00:12.145 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.047)       0:00:12.193 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.045)       0:00:12.238 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.131)       0:00:12.370 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.069)       0:00:12.440 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Friday 07 June 2024  05:11:32 -0400 (0:00:00.074)       0:00:12.514 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=8    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=8    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=8    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Friday 07 June 2024  05:11:32 -0400 (0:00:00.140)       0:00:12.654 *********** 
=============================================================================== 
install package --------------------------------------------------------- 3.64s
configure ceph repository key ------------------------------------------- 1.52s
install prerequisites packages ------------------------------------------ 1.49s
install ceph-common on rhel --------------------------------------------- 1.43s
enable required CentOS repository for epel ------------------------------ 1.20s
ensure chronyd is running ----------------------------------------------- 0.80s
configure ceph stable repository ---------------------------------------- 0.72s
add registry as insecure registry in registries.conf -------------------- 0.14s
install docker ---------------------------------------------------------- 0.13s
set_fact _ceph_repo ----------------------------------------------------- 0.12s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.11s
uninstall old version packages ------------------------------------------ 0.10s
remove ceph_stable repositories ----------------------------------------- 0.10s
setup custom repositories ----------------------------------------------- 0.09s
disable older rhceph repositories if any -------------------------------- 0.08s
fetch ceph development repository --------------------------------------- 0.08s
configure ceph development repository ----------------------------------- 0.08s
fail if insecure_registry is undefined ---------------------------------- 0.07s
set_fact ceph_custom_repositories --------------------------------------- 0.07s
fail if insecure_registry is undefined ---------------------------------- 0.07s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  05:11:33 -0400 (0:00:00.082)       0:00:00.082 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  05:11:40 -0400 (0:00:07.332)       0:00:07.414 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  05:11:40 -0400 (0:00:00.052)       0:00:07.466 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  05:12:01 -0400 (0:00:20.962)       0:00:28.429 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  05:12:02 -0400 (0:00:00.420)       0:00:28.850 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.004902'
    end: '2024-06-07 05:12:02.066775'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:12:02.061873'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.63, 0.52, 0.41'
    stdout_lines:
    - ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.63, 0.52, 0.41'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006210'
    end: '2024-06-07 05:12:02.055232'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:12:02.049022'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.42, 0.39, 0.37'
    stdout_lines:
    - ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.42, 0.39, 0.37'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005788'
    end: '2024-06-07 05:12:02.022417'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:12:02.016629'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.37, 0.53, 0.48'
    stdout_lines:
    - ' 05:12:02 up 3 days, 18:12,  0 users,  load average: 0.37, 0.53, 0.48'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005384'
    end: '2024-06-07 05:12:02.019837'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:12:02.014453'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:12:02 up 3 days, 18:12,  2 users,  load average: 0.73, 0.78, 0.64'
    stdout_lines:
    - ' 05:12:02 up 3 days, 18:12,  2 users,  load average: 0.73, 0.78, 0.64'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  05:12:02 -0400 (0:00:00.053)       0:00:28.904 *********** 
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  05:12:10 -0400 (0:00:08.611)       0:00:37.515 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  05:12:11 -0400 (0:00:00.683)       0:00:38.198 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  05:12:12 -0400 (0:00:00.965)       0:00:39.164 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  05:16:45 -0400 (0:04:33.502)       0:05:12.667 *********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  05:16:46 -0400 (0:00:00.423)       0:05:13.091 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  05:16:47 -0400 (0:00:01.663)       0:05:14.755 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  05:16:48 -0400 (0:00:00.285)       0:05:15.040 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  05:16:48 -0400 (0:00:00.667)       0:05:15.708 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  05:16:49 -0400 (0:00:00.062)       0:05:15.770 *********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:16:49 -0400 (0:00:00.017)       0:05:15.788 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:16:50 -0400 (0:00:01.697)       0:05:17.485 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:16:51 -0400 (0:00:00.597)       0:05:18.082 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:16:53 -0400 (0:00:01.903)       0:05:19.986 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:16:53 -0400 (0:00:00.267)       0:05:20.253 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:16:53 -0400 (0:00:00.070)       0:05:20.324 *********** 
skipping: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:16:55 -0400 (0:00:02.404)       0:05:22.728 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:16:56 -0400 (0:00:00.598)       0:05:23.327 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:16:56 -0400 (0:00:00.023)       0:05:23.351 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:16:56 -0400 (0:00:00.037)       0:05:23.388 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:16:57 -0400 (0:00:00.568)       0:05:23.957 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:16:58 -0400 (0:00:01.738)       0:05:25.695 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:16:59 -0400 (0:00:00.908)       0:05:26.604 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:16:59 -0400 (0:00:00.029)       0:05:26.634 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:17:00 -0400 (0:00:00.153)       0:05:26.788 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:17:00 -0400 (0:00:00.381)       0:05:27.169 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:17:00 -0400 (0:00:00.370)       0:05:27.540 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:17:01 -0400 (0:00:00.302)       0:05:27.843 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:17:01 -0400 (0:00:00.370)       0:05:28.213 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:17:01 -0400 (0:00:00.343)       0:05:28.557 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:17:02 -0400 (0:00:00.287)       0:05:28.844 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:17:02 -0400 (0:00:00.343)       0:05:29.188 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:17:02 -0400 (0:00:00.060)       0:05:29.249 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:17:03 -0400 (0:00:01.080)       0:05:30.329 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=15   changed=4    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=36   changed=15   unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=16   changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=16   changed=4    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

Friday 07 June 2024  05:17:05 -0400 (0:00:02.208)       0:05:32.537 *********** 
=============================================================================== 
deploy_ceph : Install IBM Storage Ceph license ------------------------ 273.50s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 20.96s
deploy_ceph : Install necessary packages -------------------------------- 8.61s
deploy_ceph : Update all OS packages ------------------------------------ 7.33s
deploy_ceph : Add host to the Ceph cluster ------------------------------ 2.40s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 2.21s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.90s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 1.74s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.70s
deploy_ceph : Install cephadm-ansible ----------------------------------- 1.66s
deploy_ceph : Render the RGW ingress service spec template -------------- 1.08s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 0.97s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.91s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.68s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.67s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.60s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.60s
deploy_ceph : Render the OSD service spec template ---------------------- 0.57s
deploy_ceph : Accept IBM Storage Ceph license --------------------------- 0.42s
deploy_ceph : Check the Uptime of the servers --------------------------- 0.42s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:24:00 -0400 (0:00:00.127)       0:00:00.127 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:24:02 -0400 (0:00:01.836)       0:00:01.964 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:24:02 -0400 (0:00:00.666)       0:00:02.630 *********** 
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:24:04 -0400 (0:00:01.911)       0:00:04.541 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:24:05 -0400 (0:00:00.291)       0:00:04.833 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:24:05 -0400 (0:00:00.072)       0:00:04.905 *********** 
skipping: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:24:07 -0400 (0:00:02.609)       0:00:07.514 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:24:08 -0400 (0:00:00.611)       0:00:08.125 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:24:08 -0400 (0:00:00.022)       0:00:08.148 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:24:08 -0400 (0:00:00.037)       0:00:08.185 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:24:09 -0400 (0:00:00.777)       0:00:08.963 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:24:11 -0400 (0:00:01.775)       0:00:10.738 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:24:12 -0400 (0:00:00.976)       0:00:11.714 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:24:12 -0400 (0:00:00.033)       0:00:11.748 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:24:12 -0400 (0:00:00.167)       0:00:11.915 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:24:12 -0400 (0:00:00.454)       0:00:12.370 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:24:13 -0400 (0:00:00.531)       0:00:12.901 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:24:13 -0400 (0:00:00.401)       0:00:13.303 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:24:13 -0400 (0:00:00.380)       0:00:13.683 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:24:14 -0400 (0:00:00.345)       0:00:14.029 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:24:14 -0400 (0:00:00.301)       0:00:14.330 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:24:14 -0400 (0:00:00.329)       0:00:14.659 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:24:15 -0400 (0:00:00.067)       0:00:14.727 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:24:16 -0400 (0:00:01.146)       0:00:15.873 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=4    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=24   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  05:24:18 -0400 (0:00:02.200)       0:00:18.074 *********** 
=============================================================================== 
deploy_ceph : Add host to the Ceph cluster ------------------------------ 2.61s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 2.20s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.91s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.84s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 1.78s
deploy_ceph : Render the RGW ingress service spec template -------------- 1.15s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.98s
deploy_ceph : Render the OSD service spec template ---------------------- 0.78s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.67s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.61s
deploy_ceph : Generate a private key ------------------------------------ 0.53s
deploy_ceph : Generate a self-signed CA certificate --------------------- 0.45s
deploy_ceph : Generate a certificate signing request (CSR) -------------- 0.40s
deploy_ceph : Generate a self-signed certificate ------------------------ 0.38s
deploy_ceph : Read CA certificate --------------------------------------- 0.35s
deploy_ceph : Read private key ------------------------------------------ 0.33s
deploy_ceph : Read server certificate ----------------------------------- 0.30s
deploy_ceph : Ensure known hosts file is updated ------------------------ 0.29s
deploy_ceph : Include self-signed certificate tasks --------------------- 0.17s
deploy_ceph : Debug hostname and IP ------------------------------------- 0.07s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:25:35 -0400 (0:00:00.078)       0:00:00.078 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:25:37 -0400 (0:00:01.709)       0:00:01.787 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:25:37 -0400 (0:00:00.618)       0:00:02.405 *********** 
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:25:39 -0400 (0:00:01.765)       0:00:04.170 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:25:39 -0400 (0:00:00.240)       0:00:04.410 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:25:39 -0400 (0:00:00.058)       0:00:04.469 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:25:50 -0400 (0:00:10.456)       0:00:14.925 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:25:51 -0400 (0:00:00.891)       0:00:15.816 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:25:51 -0400 (0:00:00.054)       0:00:15.871 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:25:51 -0400 (0:00:00.060)       0:00:15.931 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:25:52 -0400 (0:00:01.387)       0:00:17.319 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:25:55 -0400 (0:00:03.047)       0:00:20.366 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:25:56 -0400 (0:00:01.037)       0:00:21.404 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:25:56 -0400 (0:00:00.025)       0:00:21.430 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:25:57 -0400 (0:00:00.223)       0:00:21.654 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:25:57 -0400 (0:00:00.399)       0:00:22.053 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:25:57 -0400 (0:00:00.349)       0:00:22.403 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:25:58 -0400 (0:00:00.294)       0:00:22.697 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:25:58 -0400 (0:00:00.266)       0:00:22.964 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:25:58 -0400 (0:00:00.305)       0:00:23.269 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:25:58 -0400 (0:00:00.298)       0:00:23.568 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:25:59 -0400 (0:00:00.317)       0:00:23.886 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:25:59 -0400 (0:00:00.040)       0:00:23.927 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:26:00 -0400 (0:00:00.804)       0:00:24.732 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=24   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  05:26:01 -0400 (0:00:01.743)       0:00:26.475 *********** 
=============================================================================== 
deploy_ceph : Add host to the Ceph cluster ----------------------------- 10.46s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 3.05s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.77s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 1.74s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.71s
deploy_ceph : Render the OSD service spec template ---------------------- 1.39s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 1.04s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.89s
deploy_ceph : Render the RGW ingress service spec template -------------- 0.80s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.62s
deploy_ceph : Generate a self-signed CA certificate --------------------- 0.40s
deploy_ceph : Generate a private key ------------------------------------ 0.35s
deploy_ceph : Read private key ------------------------------------------ 0.32s
deploy_ceph : Read CA certificate --------------------------------------- 0.31s
deploy_ceph : Read server certificate ----------------------------------- 0.30s
deploy_ceph : Generate a certificate signing request (CSR) -------------- 0.29s
deploy_ceph : Generate a self-signed certificate ------------------------ 0.27s
deploy_ceph : Ensure known hosts file is updated ------------------------ 0.24s
deploy_ceph : Include self-signed certificate tasks --------------------- 0.22s
deploy_ceph : Determine OSD configuration type -------------------------- 0.06s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:27:00 -0400 (0:00:00.090)       0:00:00.090 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:27:01 -0400 (0:00:01.875)       0:00:01.966 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:27:02 -0400 (0:00:00.602)       0:00:02.569 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:27:04 -0400 (0:00:02.080)       0:00:04.649 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:27:04 -0400 (0:00:00.294)       0:00:04.944 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:27:04 -0400 (0:00:00.068)       0:00:05.012 *********** 
ok: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:27:17 -0400 (0:00:12.465)       0:00:17.478 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:27:18 -0400 (0:00:00.564)       0:00:18.042 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:27:18 -0400 (0:00:00.026)       0:00:18.069 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:27:18 -0400 (0:00:00.041)       0:00:18.111 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:27:18 -0400 (0:00:00.782)       0:00:18.894 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:27:20 -0400 (0:00:02.004)       0:00:20.898 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:27:21 -0400 (0:00:01.063)       0:00:21.962 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  05:27:21 -0400 (0:00:00.025)       0:00:21.987 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  05:27:21 -0400 (0:00:00.022)       0:00:22.009 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  05:27:22 -0400 (0:00:00.102)       0:00:22.111 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:00:03.726794'
  end: '2024-06-07 05:27:26.068258'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:22.341464'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.365443'
  end: '2024-06-07 05:27:26.666370'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:26.300927'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  05:27:26 -0400 (0:00:04.638)       0:00:26.750 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  05:27:26 -0400 (0:00:00.105)       0:00:26.855 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  05:27:29 -0400 (0:00:02.819)       0:00:29.675 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.186752'
  end: '2024-06-07 05:27:30.091813'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:29.905061'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.280357'
  end: '2024-06-07 05:27:30.580923'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:30.300566'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  05:27:30 -0400 (0:00:00.971)       0:00:30.646 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  05:27:30 -0400 (0:00:00.067)       0:00:30.714 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  05:27:36 -0400 (0:00:05.785)       0:00:36.499 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.158053'
  end: '2024-06-07 05:27:36.860930'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:36.702877'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:00.121151'
  end: '2024-06-07 05:27:37.226679'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:27:37.105528'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  05:27:37 -0400 (0:00:00.814)       0:00:37.314 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  05:27:37 -0400 (0:00:00.080)       0:00:37.394 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  05:27:39 -0400 (0:00:01.845)       0:00:39.239 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  05:28:06 -0400 (0:00:27.647)       0:01:06.887 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:28:06 -0400 (0:00:00.063)       0:01:06.951 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:28:07 -0400 (0:00:00.909)       0:01:07.861 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  05:28:07 -0400 (0:00:00.022)       0:01:07.884 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  05:28:07 -0400 (0:00:00.125)       0:01:08.010 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  05:28:08 -0400 (0:00:00.535)       0:01:08.545 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  05:28:08 -0400 (0:00:00.065)       0:01:08.610 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  05:28:08 -0400 (0:00:00.039)       0:01:08.650 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.552)       0:01:09.203 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.075)       0:01:09.278 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.035)       0:01:09.313 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.552)       0:01:09.866 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.061)       0:01:09.928 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  05:28:09 -0400 (0:00:00.038)       0:01:09.967 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Friday 07 June 2024  05:28:16 -0400 (0:00:06.680)       0:01:16.647 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_ec_pool.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Debug EC pool variables] ***********************************
Friday 07 June 2024  05:28:16 -0400 (0:00:00.150)       0:01:16.798 *********** 
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: zone1'
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: singlezone'

TASK [deploy_ceph : Check if EC profile exists] ********************************
Friday 07 June 2024  05:28:16 -0400 (0:00:00.036)       0:01:16.834 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug EC profile existence result] *************************
Friday 07 June 2024  05:28:17 -0400 (0:00:00.512)       0:01:17.347 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_profile_exists:
    changed: true
    cmd: ceph osd erasure-code-profile get default
    delta: '0:00:00.301280'
    end: '2024-06-07 05:28:17.282819'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:28:16.981539'
    stderr: ''
    stderr_lines: []
    stdout: |-
      k=2
      m=2
      plugin=jerasure
      technique=reed_sol_van
    stdout_lines:
    - k=2
    - m=2
    - plugin=jerasure
    - technique=reed_sol_van

TASK [deploy_ceph : Create EC profile] *****************************************
Friday 07 June 2024  05:28:17 -0400 (0:00:00.030)       0:01:17.378 *********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if EC pool exists] ***********************************
Friday 07 June 2024  05:28:17 -0400 (0:00:00.040)       0:01:17.418 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd pool get zone1.rgw.buckets.data
  delta: '0:00:00.367771'
  end: '2024-06-07 05:28:17.938560'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 22
  start: '2024-06-07 05:28:17.570789'
  stderr: |-
    Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)
    osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get pool parameter <var>
    Error EINVAL: invalid command
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd pool get singlezone.rgw.buckets.data
  delta: '0:00:00.279325'
  end: '2024-06-07 05:28:18.395166'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 22
  start: '2024-06-07 05:28:18.115841'
  stderr: |-
    Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)
    osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get pool parameter <var>
    Error EINVAL: invalid command
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Debug EC pool existence result] ****************************
Friday 07 June 2024  05:28:18 -0400 (0:00:01.038)       0:01:18.456 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_pool_exists:
    changed: true
    failed: true
    msg: One or more items failed
    results:
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd pool get zone1.rgw.buckets.data
      delta: '0:00:00.367771'
      end: '2024-06-07 05:28:17.938560'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd pool get zone1.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec_sync
        rgw_count_per_host: 1
        rgw_frontend_port: 8000
        rgw_id: rgwsync
        rgw_label: rgwsync
        rgw_realm: multisite
        rgw_zone: zone1
        rgw_zonegroup: multizg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 22
      start: '2024-06-07 05:28:17.570789'
      stderr: |-
        Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)
        osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get pool parameter <var>
        Error EINVAL: invalid command
      stderr_lines:
      - 'Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)'
      - 'osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get
        pool parameter <var>'
      - 'Error EINVAL: invalid command'
      stdout: ''
      stdout_lines: []
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd pool get singlezone.rgw.buckets.data
      delta: '0:00:00.279325'
      end: '2024-06-07 05:28:18.395166'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd pool get singlezone.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec
        rgw_count_per_host: 1
        rgw_frontend_port: 8001
        rgw_id: rgw
        rgw_label: rgw
        rgw_realm: single
        rgw_zone: singlezone
        rgw_zonegroup: singlezg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 22
      start: '2024-06-07 05:28:18.115841'
      stderr: |-
        Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)
        osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get pool parameter <var>
        Error EINVAL: invalid command
      stderr_lines:
      - 'Invalid command: missing required parameter var(size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk)'
      - 'osd pool get <pool> <var:size|min_size|pg_num|pgp_num|crush_rule|hashpspool|nodelete|nopgchange|nosizechange|write_fadvise_dontneed|noscrub|nodeep-scrub|hit_set_type|hit_set_period|hit_set_count|hit_set_fpp|use_gmt_hitset|target_max_objects|target_max_bytes|cache_target_dirty_ratio|cache_target_dirty_high_ratio|cache_target_full_ratio|cache_min_flush_age|cache_min_evict_age|erasure_code_profile|min_read_recency_for_promote|all|min_write_recency_for_promote|fast_read|hit_set_grade_decay_rate|hit_set_search_last_n|scrub_min_interval|scrub_max_interval|deep_scrub_interval|recovery_priority|recovery_op_priority|scrub_priority|compression_mode|compression_algorithm|compression_required_ratio|compression_max_blob_size|compression_min_blob_size|csum_type|csum_min_block|csum_max_block|allow_ec_overwrites|fingerprint_algorithm|pg_autoscale_mode|pg_autoscale_bias|pg_num_min|pg_num_max|target_size_bytes|target_size_ratio|dedup_tier|dedup_chunk_algorithm|dedup_cdc_chunk_size|eio|bulk> :  get
        pool parameter <var>'
      - 'Error EINVAL: invalid command'
      stdout: ''
      stdout_lines: []
    skipped: false

TASK [deploy_ceph : Create EC pool] ********************************************
Friday 07 June 2024  05:28:18 -0400 (0:00:00.031)       0:01:18.488 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set EC pool application] ***********************************
Friday 07 June 2024  05:28:22 -0400 (0:00:04.248)       0:01:22.737 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  05:28:24 -0400 (0:00:02.124)       0:01:24.861 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  05:28:25 -0400 (0:00:01.088)       0:01:25.949 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  05:28:29 -0400 (0:00:03.904)       0:01:29.854 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  05:28:31 -0400 (0:00:01.934)       0:01:31.788 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:28:37 -0400 (0:00:05.557)       0:01:37.345 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:28:38 -0400 (0:00:00.714)       0:01:38.059 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:28:38 -0400 (0:00:00.027)       0:01:38.087 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:28:38 -0400 (0:00:00.146)       0:01:38.233 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:28:38 -0400 (0:00:00.426)       0:01:38.659 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:28:38 -0400 (0:00:00.313)       0:01:38.973 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:28:39 -0400 (0:00:00.329)       0:01:39.303 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:28:39 -0400 (0:00:00.307)       0:01:39.610 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:28:39 -0400 (0:00:00.285)       0:01:39.896 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:28:40 -0400 (0:00:00.288)       0:01:40.184 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:28:40 -0400 (0:00:00.261)       0:01:40.446 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:28:40 -0400 (0:00:00.041)       0:01:40.487 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:28:41 -0400 (0:00:00.909)       0:01:41.397 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=61   changed=29   unreachable=0    failed=0    skipped=4    rescued=0    ignored=4   
ceph-node-02.cephlab.com   : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Friday 07 June 2024  05:28:43 -0400 (0:00:01.999)       0:01:43.396 *********** 
=============================================================================== 
deploy_ceph : Update RGW period ---------------------------------------- 27.65s
deploy_ceph : Add host to the Ceph cluster ----------------------------- 12.47s
deploy_ceph : Update RGW period ----------------------------------------- 6.68s
deploy_ceph : Create RGW zonegroup -------------------------------------- 5.79s
deploy_ceph : Apply the RGW service specs ------------------------------- 5.56s
deploy_ceph : Check if RGW realm exists --------------------------------- 4.64s
deploy_ceph : Create EC pool -------------------------------------------- 4.25s
deploy_ceph : Apply the RGW service specs ------------------------------- 3.90s
deploy_ceph : Create RGW realm ------------------------------------------ 2.82s
deploy_ceph : Set EC pool application ----------------------------------- 2.12s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 2.08s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 2.00s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 2.00s
deploy_ceph : Render the RGW service spec templates --------------------- 1.93s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.88s
deploy_ceph : Create RGW zone ------------------------------------------- 1.85s
deploy_ceph : Render the RGW service spec templates --------------------- 1.09s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 1.06s
deploy_ceph : Check if EC pool exists ----------------------------------- 1.04s
deploy_ceph : Check if RGW zonegroup exists ----------------------------- 0.97s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.010)       0:00:00.010 *********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.044)       0:00:00.054 *********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.015)       0:00:00.070 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.076)       0:00:00.147 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.044)       0:00:00.191 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.047)       0:00:00.239 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Friday 07 June 2024  05:34:04 -0400 (0:00:00.056)       0:00:00.295 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Friday 07 June 2024  05:34:05 -0400 (0:00:01.132)       0:00:01.428 *********** 
ok: [ceph-node-03.cephlab.com] => (item=$basearch)
ok: [ceph-node-01.cephlab.com] => (item=$basearch)
ok: [ceph-node-00.cephlab.com] => (item=$basearch)
ok: [ceph-node-02.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.481)       0:00:01.910 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.049)       0:00:01.959 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.047)       0:00:02.006 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.056)       0:00:02.062 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.050)       0:00:02.113 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Friday 07 June 2024  05:34:06 -0400 (0:00:00.050)       0:00:02.163 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [install package] *********************************************************
Friday 07 June 2024  05:34:07 -0400 (0:00:00.632)       0:00:02.795 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Friday 07 June 2024  05:34:11 -0400 (0:00:04.265)       0:00:07.061 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:34:22 -0400 (0:00:11.442)       0:00:18.503 *********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Friday 07 June 2024  05:34:32 -0400 (0:00:09.961)       0:00:28.465 *********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.825)       0:00:29.290 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.039)       0:00:29.330 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.047)       0:00:29.377 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.051)       0:00:29.429 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.072)       0:00:29.502 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.065)       0:00:29.567 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.039)       0:00:29.607 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Friday 07 June 2024  05:34:33 -0400 (0:00:00.046)       0:00:29.653 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd) 
skipping: [ceph-node-01.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd) 
skipping: [ceph-node-03.cephlab.com] => (item=runc) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.075)       0:00:29.729 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.052)       0:00:29.781 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.040)       0:00:29.822 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.133)       0:00:29.956 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.078)       0:00:30.034 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Friday 07 June 2024  05:34:34 -0400 (0:00:00.056)       0:00:30.090 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Friday 07 June 2024  05:34:34 -0400 (0:00:00.119)       0:00:30.210 *********** 
=============================================================================== 
install ceph-common on rhel -------------------------------------------- 11.44s
install prerequisites packages ------------------------------------------ 9.96s
install package --------------------------------------------------------- 4.27s
configure ceph repository key ------------------------------------------- 1.13s
ensure chronyd is running ----------------------------------------------- 0.83s
enable required CentOS repository for epel ------------------------------ 0.63s
configure ceph stable repository ---------------------------------------- 0.48s
install docker ---------------------------------------------------------- 0.13s
add registry as insecure registry in registries.conf -------------------- 0.12s
fail if insecure_registry is undefined ---------------------------------- 0.08s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.08s
uninstall old version packages ------------------------------------------ 0.08s
configure Ceph testing repository --------------------------------------- 0.07s
configure Ceph custom repositories -------------------------------------- 0.07s
set_fact _ceph_repo ----------------------------------------------------- 0.06s
remove ceph_stable repositories ----------------------------------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.06s
configure docker repository key ----------------------------------------- 0.05s
configure Ceph community repository ------------------------------------- 0.05s
set_fact ceph_custom_repositories --------------------------------------- 0.05s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  05:34:35 -0400 (0:00:00.092)       0:00:00.092 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  05:34:42 -0400 (0:00:06.793)       0:00:06.886 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  05:34:42 -0400 (0:00:00.099)       0:00:06.985 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  05:35:03 -0400 (0:00:21.069)       0:00:28.054 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  05:35:03 -0400 (0:00:00.419)       0:00:28.474 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005847'
    end: '2024-06-07 05:35:03.599048'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:35:03.593201'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:35:03 up 3 days, 18:36,  0 users,  load average: 0.68, 1.01, 0.72'
    stdout_lines:
    - ' 05:35:03 up 3 days, 18:36,  0 users,  load average: 0.68, 1.01, 0.72'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006426'
    end: '2024-06-07 05:35:03.569671'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:35:03.563245'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:35:03 up 3 days, 18:35,  0 users,  load average: 0.48, 0.60, 0.51'
    stdout_lines:
    - ' 05:35:03 up 3 days, 18:35,  0 users,  load average: 0.48, 0.60, 0.51'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005322'
    end: '2024-06-07 05:35:03.580421'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:35:03.575099'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:35:03 up 3 days, 18:35,  0 users,  load average: 0.23, 0.69, 0.61'
    stdout_lines:
    - ' 05:35:03 up 3 days, 18:35,  0 users,  load average: 0.23, 0.69, 0.61'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005203'
    end: '2024-06-07 05:35:03.609713'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:35:03.604510'
    stderr: ''
    stderr_lines: []
    stdout: ' 05:35:03 up 3 days, 18:36,  2 users,  load average: 0.59, 1.23, 1.08'
    stdout_lines:
    - ' 05:35:03 up 3 days, 18:36,  2 users,  load average: 0.59, 1.23, 1.08'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  05:35:03 -0400 (0:00:00.064)       0:00:28.538 *********** 
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  05:35:11 -0400 (0:00:07.718)       0:00:36.256 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  05:35:12 -0400 (0:00:00.717)       0:00:36.973 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  05:35:13 -0400 (0:00:00.885)       0:00:37.859 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  05:35:52 -0400 (0:00:39.122)       0:01:16.981 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  05:35:52 -0400 (0:00:00.390)       0:01:17.372 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  05:35:53 -0400 (0:00:01.274)       0:01:18.646 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  05:35:54 -0400 (0:00:00.307)       0:01:18.954 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  05:35:54 -0400 (0:00:00.516)       0:01:19.470 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  05:35:54 -0400 (0:00:00.066)       0:01:19.536 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  05:37:06 -0400 (0:01:11.896)       0:02:31.433 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  05:37:08 -0400 (0:00:01.789)       0:02:33.223 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  05:37:08 -0400 (0:00:00.541)       0:02:33.765 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  05:37:10 -0400 (0:00:01.892)       0:02:35.658 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  05:37:11 -0400 (0:00:00.342)       0:02:36.000 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  05:37:11 -0400 (0:00:00.074)       0:02:36.075 *********** 
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:37:38 -0400 (0:00:27.472)       0:03:03.547 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:37:39 -0400 (0:00:00.642)       0:03:04.190 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  05:37:39 -0400 (0:00:00.025)       0:03:04.216 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  05:37:39 -0400 (0:00:00.043)       0:03:04.259 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  05:37:40 -0400 (0:00:00.745)       0:03:05.005 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:37:42 -0400 (0:00:02.366)       0:03:07.371 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:37:43 -0400 (0:00:00.644)       0:03:08.016 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  05:37:43 -0400 (0:00:00.025)       0:03:08.041 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  05:37:43 -0400 (0:00:00.025)       0:03:08.067 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  05:37:43 -0400 (0:00:00.123)       0:03:08.190 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:01:27.260008'
  end: '2024-06-07 05:39:10.878784'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:37:43.618776'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.132419'
  end: '2024-06-07 05:39:11.372456'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:11.240037'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  05:39:11 -0400 (0:01:28.135)       0:04:36.326 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  05:39:11 -0400 (0:00:00.143)       0:04:36.470 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  05:39:13 -0400 (0:00:02.256)       0:04:38.726 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.158445'
  end: '2024-06-07 05:39:14.414787'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:14.256342'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.436737'
  end: '2024-06-07 05:39:15.145549'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:14.708812'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  05:39:15 -0400 (0:00:01.322)       0:04:40.049 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  05:39:15 -0400 (0:00:00.120)       0:04:40.169 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  05:39:16 -0400 (0:00:00.803)       0:04:40.972 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.076792'
  end: '2024-06-07 05:39:16.424173'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:16.347381'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:00.280680'
  end: '2024-06-07 05:39:16.974699'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:16.694019'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  05:39:17 -0400 (0:00:00.899)       0:04:41.872 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  05:39:17 -0400 (0:00:00.098)       0:04:41.970 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  05:39:18 -0400 (0:00:01.253)       0:04:43.224 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  05:39:36 -0400 (0:00:17.944)       0:05:01.168 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:39:36 -0400 (0:00:00.045)       0:05:01.214 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:39:37 -0400 (0:00:00.925)       0:05:02.140 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  05:39:37 -0400 (0:00:00.019)       0:05:02.159 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  05:39:37 -0400 (0:00:00.128)       0:05:02.287 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  05:39:38 -0400 (0:00:01.191)       0:05:03.478 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  05:39:38 -0400 (0:00:00.078)       0:05:03.557 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  05:39:38 -0400 (0:00:00.045)       0:05:03.602 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  05:39:39 -0400 (0:00:00.806)       0:05:04.409 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  05:39:39 -0400 (0:00:00.077)       0:05:04.486 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  05:39:39 -0400 (0:00:00.051)       0:05:04.537 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  05:39:40 -0400 (0:00:00.829)       0:05:05.367 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  05:39:40 -0400 (0:00:00.079)       0:05:05.446 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  05:39:40 -0400 (0:00:00.039)       0:05:05.486 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Friday 07 June 2024  05:39:42 -0400 (0:00:01.978)       0:05:07.464 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_ec_pool.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Debug EC pool variables] ***********************************
Friday 07 June 2024  05:39:42 -0400 (0:00:00.110)       0:05:07.574 *********** 
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: zone1'
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: singlezone'

TASK [deploy_ceph : Check if EC profile exists] ********************************
Friday 07 June 2024  05:39:42 -0400 (0:00:00.042)       0:05:07.617 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug EC profile existence result] *************************
Friday 07 June 2024  05:39:43 -0400 (0:00:00.620)       0:05:08.238 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_profile_exists:
    changed: true
    cmd: ceph osd erasure-code-profile get default
    delta: '0:00:00.379366'
    end: '2024-06-07 05:39:43.361821'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 05:39:42.982455'
    stderr: ''
    stderr_lines: []
    stdout: |-
      k=2
      m=2
      plugin=jerasure
      technique=reed_sol_van
    stdout_lines:
    - k=2
    - m=2
    - plugin=jerasure
    - technique=reed_sol_van

TASK [deploy_ceph : Create EC profile] *****************************************
Friday 07 June 2024  05:39:43 -0400 (0:00:00.041)       0:05:08.279 *********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if EC pool exists] ***********************************
Friday 07 June 2024  05:39:43 -0400 (0:00:00.041)       0:05:08.321 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep zone1.rgw.buckets.data
  delta: '0:00:00.366638'
  end: '2024-06-07 05:39:44.072236'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:43.705598'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
  delta: '0:00:00.507457'
  end: '2024-06-07 05:39:44.910505'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 05:39:44.403048'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Debug EC pool existence result] ****************************
Friday 07 June 2024  05:39:44 -0400 (0:00:01.468)       0:05:09.789 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_pool_exists:
    changed: true
    failed: true
    msg: One or more items failed
    results:
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep zone1.rgw.buckets.data
      delta: '0:00:00.366638'
      end: '2024-06-07 05:39:44.072236'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep zone1.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec_sync
        rgw_count_per_host: 1
        rgw_frontend_port: 8000
        rgw_id: rgwsync
        rgw_label: rgwsync
        rgw_realm: multisite
        rgw_zone: zone1
        rgw_zonegroup: multizg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-07 05:39:43.705598'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
      delta: '0:00:00.507457'
      end: '2024-06-07 05:39:44.910505'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep singlezone.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec
        rgw_count_per_host: 1
        rgw_frontend_port: 8001
        rgw_id: rgw
        rgw_label: rgw
        rgw_realm: single
        rgw_zone: singlezone
        rgw_zonegroup: singlezg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-07 05:39:44.403048'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    skipped: false

TASK [deploy_ceph : Create EC pool] ********************************************
Friday 07 June 2024  05:39:44 -0400 (0:00:00.046)       0:05:09.836 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set EC pool application] ***********************************
Friday 07 June 2024  05:39:49 -0400 (0:00:04.380)       0:05:14.216 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  05:39:51 -0400 (0:00:02.093)       0:05:16.310 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  05:39:52 -0400 (0:00:01.347)       0:05:17.657 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  05:39:58 -0400 (0:00:05.364)       0:05:23.021 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  05:39:59 -0400 (0:00:01.505)       0:05:24.527 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  05:40:04 -0400 (0:00:05.014)       0:05:29.541 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  05:40:05 -0400 (0:00:01.006)       0:05:30.548 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  05:40:05 -0400 (0:00:00.029)       0:05:30.577 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  05:40:05 -0400 (0:00:00.202)       0:05:30.780 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  05:40:06 -0400 (0:00:00.547)       0:05:31.328 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  05:40:06 -0400 (0:00:00.458)       0:05:31.787 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  05:40:07 -0400 (0:00:00.331)       0:05:32.118 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  05:40:07 -0400 (0:00:00.329)       0:05:32.448 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  05:40:07 -0400 (0:00:00.383)       0:05:32.831 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  05:40:08 -0400 (0:00:00.387)       0:05:33.218 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  05:40:08 -0400 (0:00:00.490)       0:05:33.708 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  05:40:08 -0400 (0:00:00.069)       0:05:33.778 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  05:40:10 -0400 (0:00:01.734)       0:05:35.513 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=74   changed=34   unreachable=0    failed=0    skipped=6    rescued=0    ignored=4   
ceph-node-02.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

Friday 07 June 2024  05:40:14 -0400 (0:00:03.383)       0:05:38.896 *********** 
=============================================================================== 
deploy_ceph : Check if RGW realm exists -------------------------------- 88.14s
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 71.90s
deploy_ceph : Install IBM Storage Ceph license ------------------------- 39.12s
deploy_ceph : Add host to the Ceph cluster ----------------------------- 27.47s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 21.07s
deploy_ceph : Update RGW period ---------------------------------------- 17.94s
deploy_ceph : Install necessary packages -------------------------------- 7.72s
deploy_ceph : Update all OS packages ------------------------------------ 6.79s
deploy_ceph : Apply the RGW service specs ------------------------------- 5.36s
deploy_ceph : Apply the RGW service specs ------------------------------- 5.01s
deploy_ceph : Create EC pool -------------------------------------------- 4.38s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 3.38s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 2.37s
deploy_ceph : Create RGW realm ------------------------------------------ 2.26s
deploy_ceph : Set EC pool application ----------------------------------- 2.09s
deploy_ceph : Update RGW period ----------------------------------------- 1.98s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.89s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.79s
deploy_ceph : Render the RGW ingress service spec template -------------- 1.73s
deploy_ceph : Render the RGW service spec templates --------------------- 1.51s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  06:06:51 -0400 (0:00:00.101)       0:00:00.101 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  06:06:52 -0400 (0:00:01.223)       0:00:01.324 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  06:06:53 -0400 (0:00:01.183)       0:00:02.507 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  06:06:53 -0400 (0:00:00.062)       0:00:02.569 *********** 
skipping: [ceph-node-01.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=1    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=2    changed=0    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=1    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=1    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

Friday 07 June 2024  06:06:53 -0400 (0:00:00.156)       0:00:02.726 *********** 
=============================================================================== 
deploy_ceph : Check if Ceph cluster already exists ---------------------- 1.22s
deploy_ceph : Login to Ceph registry ------------------------------------ 1.18s
deploy_ceph : Bootstrap Ceph cluster ------------------------------------ 0.16s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.06s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.020)       0:00:00.020 *********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.073)       0:00:00.094 *********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.020)       0:00:00.115 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.064)       0:00:00.180 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.039)       0:00:00.219 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.047)       0:00:00.267 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Friday 07 June 2024  06:15:24 -0400 (0:00:00.051)       0:00:00.319 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Friday 07 June 2024  06:15:25 -0400 (0:00:00.963)       0:00:01.282 *********** 
ok: [ceph-node-01.cephlab.com] => (item=$basearch)
ok: [ceph-node-03.cephlab.com] => (item=$basearch)
ok: [ceph-node-00.cephlab.com] => (item=$basearch)
ok: [ceph-node-02.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.376)       0:00:01.658 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.051)       0:00:01.710 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.040)       0:00:01.751 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.057)       0:00:01.808 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.047)       0:00:01.856 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Friday 07 June 2024  06:15:26 -0400 (0:00:00.048)       0:00:01.904 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Friday 07 June 2024  06:15:27 -0400 (0:00:00.686)       0:00:02.590 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Friday 07 June 2024  06:15:29 -0400 (0:00:02.555)       0:00:05.146 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  06:15:40 -0400 (0:00:10.771)       0:00:15.918 *********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Friday 07 June 2024  06:15:48 -0400 (0:00:08.415)       0:00:24.333 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.757)       0:00:25.090 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.057)       0:00:25.148 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.054)       0:00:25.203 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.065)       0:00:25.268 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.045)       0:00:25.313 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.042)       0:00:25.356 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.046)       0:00:25.402 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.040)       0:00:25.443 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-01.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd) 
skipping: [ceph-node-01.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com] => (item=docker) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-02.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-03.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-03.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=runc) 
skipping: [ceph-node-03.cephlab.com]

TASK [configure docker repository key] *****************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.055)       0:00:25.499 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Friday 07 June 2024  06:15:49 -0400 (0:00:00.037)       0:00:25.537 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Friday 07 June 2024  06:15:50 -0400 (0:00:00.040)       0:00:25.577 *********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  06:15:50 -0400 (0:00:00.114)       0:00:25.692 *********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Friday 07 June 2024  06:15:50 -0400 (0:00:00.061)       0:00:25.754 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Friday 07 June 2024  06:15:50 -0400 (0:00:00.064)       0:00:25.818 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Friday 07 June 2024  06:15:50 -0400 (0:00:00.146)       0:00:25.964 *********** 
=============================================================================== 
install ceph-common on rhel -------------------------------------------- 10.77s
install prerequisites packages ------------------------------------------ 8.42s
install package --------------------------------------------------------- 2.56s
configure ceph repository key ------------------------------------------- 0.96s
ensure chronyd is running ----------------------------------------------- 0.76s
enable required CentOS repository for epel ------------------------------ 0.69s
configure ceph stable repository ---------------------------------------- 0.38s
add registry as insecure registry in registries.conf -------------------- 0.15s
install docker ---------------------------------------------------------- 0.11s
fail if insecure_registry is undefined ---------------------------------- 0.07s
configure Ceph community repository ------------------------------------- 0.07s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.06s
prevent ceph certificate error ------------------------------------------ 0.06s
remove ceph_stable repositories ----------------------------------------- 0.06s
uninstall old version packages ------------------------------------------ 0.06s
configure ceph community repository stable key -------------------------- 0.05s
set_fact _ceph_repo ----------------------------------------------------- 0.05s
fetch ceph development repository --------------------------------------- 0.05s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Friday 07 June 2024  06:15:51 -0400 (0:00:00.070)       0:00:00.070 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Friday 07 June 2024  06:15:56 -0400 (0:00:05.114)       0:00:05.185 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Friday 07 June 2024  06:15:56 -0400 (0:00:00.052)       0:00:05.238 *********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Friday 07 June 2024  06:16:17 -0400 (0:00:21.080)       0:00:26.319 *********** 
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Friday 07 June 2024  06:16:17 -0400 (0:00:00.479)       0:00:26.798 *********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.008026'
    end: '2024-06-07 06:16:17.770151'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 06:16:17.762125'
    stderr: ''
    stderr_lines: []
    stdout: ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.27, 0.15, 0.22'
    stdout_lines:
    - ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.27, 0.15, 0.22'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.008456'
    end: '2024-06-07 06:16:17.766665'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 06:16:17.758209'
    stderr: ''
    stderr_lines: []
    stdout: ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.13, 0.13, 0.24'
    stdout_lines:
    - ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.13, 0.13, 0.24'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.006682'
    end: '2024-06-07 06:16:17.777773'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 06:16:17.771091'
    stderr: ''
    stderr_lines: []
    stdout: ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.21, 0.14, 0.24'
    stdout_lines:
    - ' 06:16:17 up 3 days, 19:17,  0 users,  load average: 0.21, 0.14, 0.24'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.007073'
    end: '2024-06-07 06:16:17.703359'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 06:16:17.696286'
    stderr: ''
    stderr_lines: []
    stdout: ' 06:16:17 up 3 days, 19:17,  2 users,  load average: 0.15, 0.18, 0.40'
    stdout_lines:
    - ' 06:16:17 up 3 days, 19:17,  2 users,  load average: 0.15, 0.18, 0.40'

TASK [deploy_ceph : Install necessary packages] ********************************
Friday 07 June 2024  06:16:17 -0400 (0:00:00.062)       0:00:26.860 *********** 
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Friday 07 June 2024  06:16:25 -0400 (0:00:07.871)       0:00:34.732 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Friday 07 June 2024  06:16:26 -0400 (0:00:00.682)       0:00:35.415 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Friday 07 June 2024  06:16:27 -0400 (0:00:00.934)       0:00:36.349 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Friday 07 June 2024  06:17:08 -0400 (0:00:41.006)       0:01:17.356 *********** 
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Friday 07 June 2024  06:17:08 -0400 (0:00:00.414)       0:01:17.771 *********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Friday 07 June 2024  06:17:10 -0400 (0:00:01.457)       0:01:19.228 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Friday 07 June 2024  06:17:10 -0400 (0:00:00.305)       0:01:19.533 *********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Friday 07 June 2024  06:17:11 -0400 (0:00:00.665)       0:01:20.199 *********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Friday 07 June 2024  06:17:11 -0400 (0:00:00.060)       0:01:20.260 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Friday 07 June 2024  06:18:03 -0400 (0:00:51.879)       0:02:12.139 *********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Friday 07 June 2024  06:18:05 -0400 (0:00:01.930)       0:02:14.070 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Friday 07 June 2024  06:18:05 -0400 (0:00:00.772)       0:02:14.843 *********** 
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Friday 07 June 2024  06:18:07 -0400 (0:00:02.039)       0:02:16.882 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Friday 07 June 2024  06:18:08 -0400 (0:00:00.490)       0:02:17.373 *********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Friday 07 June 2024  06:18:08 -0400 (0:00:00.068)       0:02:17.441 *********** 
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  06:18:42 -0400 (0:00:33.954)       0:02:51.395 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  06:18:43 -0400 (0:00:01.041)       0:02:52.437 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Friday 07 June 2024  06:18:43 -0400 (0:00:00.030)       0:02:52.467 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Friday 07 June 2024  06:18:43 -0400 (0:00:00.043)       0:02:52.510 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Friday 07 June 2024  06:18:44 -0400 (0:00:00.766)       0:02:53.276 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  06:18:49 -0400 (0:00:05.208)       0:02:58.485 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  06:18:50 -0400 (0:00:00.625)       0:02:59.111 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  06:18:50 -0400 (0:00:00.020)       0:02:59.131 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  06:18:50 -0400 (0:00:00.023)       0:02:59.154 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  06:18:50 -0400 (0:00:00.122)       0:02:59.276 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:01:39.250801'
  end: '2024-06-07 06:20:29.744895'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:18:50.494094'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.286211'
  end: '2024-06-07 06:20:30.241134'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:20:29.954923'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  06:20:30 -0400 (0:01:39.983)       0:04:39.260 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  06:20:30 -0400 (0:00:00.104)       0:04:39.364 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  06:20:50 -0400 (0:00:19.896)       0:04:59.261 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.084087'
  end: '2024-06-07 06:20:50.637916'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:20:50.553829'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.175620'
  end: '2024-06-07 06:20:51.013442'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:20:50.837822'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  06:20:51 -0400 (0:00:00.814)       0:05:00.075 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  06:20:51 -0400 (0:00:00.106)       0:05:00.181 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  06:20:53 -0400 (0:00:02.234)       0:05:02.416 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.149461'
  end: '2024-06-07 06:20:53.894310'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:20:53.744849'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:00.145142'
  end: '2024-06-07 06:20:54.304253'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:20:54.159111'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  06:20:54 -0400 (0:00:00.910)       0:05:03.326 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  06:20:54 -0400 (0:00:00.119)       0:05:03.446 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  06:20:55 -0400 (0:00:01.384)       0:05:04.830 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Friday 07 June 2024  06:21:20 -0400 (0:00:25.141)       0:05:29.972 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  06:21:21 -0400 (0:00:00.032)       0:05:30.005 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  06:21:21 -0400 (0:00:00.673)       0:05:30.679 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Friday 07 June 2024  06:21:21 -0400 (0:00:00.021)       0:05:30.700 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Friday 07 June 2024  06:21:21 -0400 (0:00:00.134)       0:05:30.835 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Friday 07 June 2024  06:21:22 -0400 (0:00:00.659)       0:05:31.495 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Friday 07 June 2024  06:21:22 -0400 (0:00:00.079)       0:05:31.575 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Friday 07 June 2024  06:21:22 -0400 (0:00:00.040)       0:05:31.616 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Friday 07 June 2024  06:21:23 -0400 (0:00:00.680)       0:05:32.296 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Friday 07 June 2024  06:21:23 -0400 (0:00:00.066)       0:05:32.363 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Friday 07 June 2024  06:21:23 -0400 (0:00:00.043)       0:05:32.407 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Friday 07 June 2024  06:21:24 -0400 (0:00:00.744)       0:05:33.151 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Friday 07 June 2024  06:21:24 -0400 (0:00:00.073)       0:05:33.225 *********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Friday 07 June 2024  06:21:24 -0400 (0:00:00.047)       0:05:33.272 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Friday 07 June 2024  06:21:26 -0400 (0:00:02.650)       0:05:35.923 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_ec_pool.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Debug EC pool variables] ***********************************
Friday 07 June 2024  06:21:27 -0400 (0:00:00.161)       0:05:36.085 *********** 
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: zone1'
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: singlezone'

TASK [deploy_ceph : Check if EC profile exists] ********************************
Friday 07 June 2024  06:21:27 -0400 (0:00:00.051)       0:05:36.136 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug EC profile existence result] *************************
Friday 07 June 2024  06:21:27 -0400 (0:00:00.592)       0:05:36.729 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_profile_exists:
    changed: true
    cmd: ceph osd erasure-code-profile get default
    delta: '0:00:00.351385'
    end: '2024-06-07 06:21:27.723073'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-07 06:21:27.371688'
    stderr: ''
    stderr_lines: []
    stdout: |-
      k=2
      m=2
      plugin=jerasure
      technique=reed_sol_van
    stdout_lines:
    - k=2
    - m=2
    - plugin=jerasure
    - technique=reed_sol_van

TASK [deploy_ceph : Create EC profile] *****************************************
Friday 07 June 2024  06:21:27 -0400 (0:00:00.030)       0:05:36.759 *********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if EC pool exists] ***********************************
Friday 07 June 2024  06:21:27 -0400 (0:00:00.037)       0:05:36.797 *********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep zone1.rgw.buckets.data
  delta: '0:00:00.417196'
  end: '2024-06-07 06:21:28.447069'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:21:28.029873'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
  delta: '0:00:00.311394'
  end: '2024-06-07 06:21:28.980691'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-07 06:21:28.669297'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Debug EC pool existence result] ****************************
Friday 07 June 2024  06:21:29 -0400 (0:00:01.190)       0:05:37.988 *********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_pool_exists:
    changed: true
    failed: true
    msg: One or more items failed
    results:
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep zone1.rgw.buckets.data
      delta: '0:00:00.417196'
      end: '2024-06-07 06:21:28.447069'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep zone1.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec_sync
        rgw_count_per_host: 1
        rgw_frontend_port: 8000
        rgw_id: rgwsync
        rgw_label: rgwsync
        rgw_realm: multisite
        rgw_zone: zone1
        rgw_zonegroup: multizg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-07 06:21:28.029873'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
      delta: '0:00:00.311394'
      end: '2024-06-07 06:21:28.980691'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep singlezone.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec
        rgw_count_per_host: 1
        rgw_frontend_port: 8001
        rgw_id: rgw
        rgw_label: rgw
        rgw_realm: single
        rgw_zone: singlezone
        rgw_zonegroup: singlezg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-07 06:21:28.669297'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    skipped: false

TASK [deploy_ceph : Create EC pool] ********************************************
Friday 07 June 2024  06:21:29 -0400 (0:00:00.041)       0:05:38.030 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set EC pool application] ***********************************
Friday 07 June 2024  06:21:33 -0400 (0:00:04.088)       0:05:42.119 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  06:21:35 -0400 (0:00:02.039)       0:05:44.158 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  06:21:36 -0400 (0:00:01.177)       0:05:45.336 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Friday 07 June 2024  06:21:40 -0400 (0:00:04.338)       0:05:49.674 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Friday 07 June 2024  06:21:41 -0400 (0:00:01.178)       0:05:50.853 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Friday 07 June 2024  06:21:49 -0400 (0:00:07.543)       0:05:58.396 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Friday 07 June 2024  06:21:50 -0400 (0:00:00.744)       0:05:59.141 *********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Friday 07 June 2024  06:21:50 -0400 (0:00:00.032)       0:05:59.174 *********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Friday 07 June 2024  06:21:50 -0400 (0:00:00.139)       0:05:59.314 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Friday 07 June 2024  06:21:50 -0400 (0:00:00.293)       0:05:59.607 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Friday 07 June 2024  06:21:50 -0400 (0:00:00.290)       0:05:59.898 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Friday 07 June 2024  06:21:51 -0400 (0:00:00.258)       0:06:00.156 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Friday 07 June 2024  06:21:51 -0400 (0:00:00.258)       0:06:00.414 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Friday 07 June 2024  06:21:51 -0400 (0:00:00.287)       0:06:00.702 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Friday 07 June 2024  06:21:51 -0400 (0:00:00.245)       0:06:00.948 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Friday 07 June 2024  06:21:52 -0400 (0:00:00.228)       0:06:01.176 *********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Friday 07 June 2024  06:21:52 -0400 (0:00:00.055)       0:06:01.232 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Friday 07 June 2024  06:21:53 -0400 (0:00:00.808)       0:06:02.040 *********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=74   changed=34   unreachable=0    failed=0    skipped=6    rescued=0    ignored=4   
ceph-node-02.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=19   changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   

Friday 07 June 2024  06:21:56 -0400 (0:00:03.404)       0:06:05.444 *********** 
=============================================================================== 
deploy_ceph : Check if RGW realm exists -------------------------------- 99.98s
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 51.88s
deploy_ceph : Install IBM Storage Ceph license ------------------------- 41.01s
deploy_ceph : Add host to the Ceph cluster ----------------------------- 33.95s
deploy_ceph : Update RGW period ---------------------------------------- 25.14s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 21.08s
deploy_ceph : Create RGW realm ----------------------------------------- 19.90s
deploy_ceph : Install necessary packages -------------------------------- 7.87s
deploy_ceph : Apply the RGW service specs ------------------------------- 7.54s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 5.21s
deploy_ceph : Update all OS packages ------------------------------------ 5.11s
deploy_ceph : Apply the RGW service specs ------------------------------- 4.34s
deploy_ceph : Create EC pool -------------------------------------------- 4.09s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 3.40s
deploy_ceph : Update RGW period ----------------------------------------- 2.65s
deploy_ceph : Create RGW zonegroup -------------------------------------- 2.23s
deploy_ceph : Set EC pool application ----------------------------------- 2.04s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 2.04s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.93s
deploy_ceph : Install cephadm-ansible ----------------------------------- 1.46s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:14:47 -0400 (0:00:00.010)       0:00:00.010 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  09:14:47 -0400 (0:00:00.040)       0:00:00.050 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  09:14:47 -0400 (0:00:00.011)       0:00:00.062 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
Tuesday 11 June 2024  09:14:47 -0400 (0:00:00.025)       0:00:00.087 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  09:14:50 -0400 (0:00:02.557)       0:00:02.645 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  09:14:50 -0400 (0:00:00.040)       0:00:02.686 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  09:14:50 -0400 (0:00:00.038)       0:00:02.724 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  09:14:50 -0400 (0:00:00.048)       0:00:02.773 ********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:01.063)       0:00:03.837 ********** 
ok: [ceph-node-03.cephlab.com] => (item=$basearch)
ok: [ceph-node-02.cephlab.com] => (item=$basearch)
ok: [ceph-node-00.cephlab.com] => (item=$basearch)
ok: [ceph-node-01.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:00.384)       0:00:04.221 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:00.036)       0:00:04.257 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:00.035)       0:00:04.293 ********** 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-01.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-02.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-03.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:00.049)       0:00:04.342 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  09:14:51 -0400 (0:00:00.037)       0:00:04.380 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  09:14:52 -0400 (0:00:00.058)       0:00:04.438 ********** 
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  09:14:52 -0400 (0:00:00.700)       0:00:05.138 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  09:14:55 -0400 (0:00:02.412)       0:00:07.551 ********** 
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:15:06 -0400 (0:00:11.250)       0:00:18.801 ********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  09:15:13 -0400 (0:00:07.029)       0:00:25.830 ********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.829)       0:00:26.660 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.058)       0:00:26.718 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.040)       0:00:26.759 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.041)       0:00:26.801 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.040)       0:00:26.841 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.037)       0:00:26.879 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.034)       0:00:26.913 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.043)       0:00:26.957 ********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-02.cephlab.com] => (item=docker) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-02.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd) 
skipping: [ceph-node-02.cephlab.com] => (item=runc) 
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-01.cephlab.com] => (item=runc) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-03.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd) 
skipping: [ceph-node-03.cephlab.com] => (item=runc) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.068)       0:00:27.025 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.041)       0:00:27.067 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.037)       0:00:27.104 ********** 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-01.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-01.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-02.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-02.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-03.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-03.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.093)       0:00:27.198 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.052)       0:00:27.250 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.058)       0:00:27.309 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-00.cephlab.com]
skipping: [ceph-node-03.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=9    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=9    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-02.cephlab.com   : ok=9    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=9    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  09:15:14 -0400 (0:00:00.084)       0:00:27.393 ********** 
=============================================================================== 
install ceph-common on rhel -------------------------------------------- 11.25s
install prerequisites packages ------------------------------------------ 7.03s
Gathering Facts --------------------------------------------------------- 2.56s
install package --------------------------------------------------------- 2.41s
configure ceph repository key ------------------------------------------- 1.06s
ensure chronyd is running ----------------------------------------------- 0.83s
enable required CentOS repository for epel ------------------------------ 0.70s
configure ceph stable repository ---------------------------------------- 0.38s
install docker ---------------------------------------------------------- 0.09s
add registry as insecure registry in registries.conf -------------------- 0.08s
uninstall old version packages ------------------------------------------ 0.07s
fail if insecure_registry is undefined ---------------------------------- 0.06s
prevent ceph certificate error ------------------------------------------ 0.06s
setup custom repositories ----------------------------------------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.05s
remove ceph_stable repositories ----------------------------------------- 0.05s
set_fact _ceph_repo ----------------------------------------------------- 0.05s
install podman ---------------------------------------------------------- 0.04s
configure Ceph community repository ------------------------------------- 0.04s
configure docker repository key ----------------------------------------- 0.04s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Tuesday 11 June 2024  09:15:15 -0400 (0:00:00.082)       0:00:00.082 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Tuesday 11 June 2024  09:15:23 -0400 (0:00:07.648)       0:00:07.730 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Tuesday 11 June 2024  09:15:23 -0400 (0:00:00.060)       0:00:07.791 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Tuesday 11 June 2024  09:15:44 -0400 (0:00:21.067)       0:00:28.858 ********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Tuesday 11 June 2024  09:15:46 -0400 (0:00:01.580)       0:00:30.439 ********** 
ok: [ceph-node-01.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.004961'
    end: '2024-06-11 09:15:44.898442'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:15:44.893481'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.27, 0.22, 0.23'
    stdout_lines:
    - ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.27, 0.22, 0.23'
ok: [ceph-node-02.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:01.007587'
    end: '2024-06-11 09:15:45.939711'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:15:44.932124'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.18, 0.29, 0.33'
    stdout_lines:
    - ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.18, 0.29, 0.33'
ok: [ceph-node-03.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.014802'
    end: '2024-06-11 09:15:44.938145'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:15:44.923343'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.20, 0.29, 0.31'
    stdout_lines:
    - ' 09:15:44 up 7 days, 22:16,  0 users,  load average: 0.20, 0.29, 0.31'
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005045'
    end: '2024-06-11 09:15:44.972811'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:15:44.967766'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:15:44 up 7 days, 22:16,  1 user,  load average: 0.66, 0.43, 0.44'
    stdout_lines:
    - ' 09:15:44 up 7 days, 22:16,  1 user,  load average: 0.66, 0.43, 0.44'

TASK [deploy_ceph : Install necessary packages] ********************************
Tuesday 11 June 2024  09:15:46 -0400 (0:00:00.081)       0:00:30.521 ********** 
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-02.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-01.cephlab.com] => (item=bind-utils)
ok: [ceph-node-03.cephlab.com] => (item=bind-utils)
ok: [ceph-node-02.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-03.cephlab.com] => (item=nc)
ok: [ceph-node-01.cephlab.com] => (item=nc)
ok: [ceph-node-02.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-01.cephlab.com] => (item=vim)
ok: [ceph-node-03.cephlab.com] => (item=vim)
ok: [ceph-node-02.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-03.cephlab.com] => (item=python3-pip.noarch)
ok: [ceph-node-01.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Tuesday 11 June 2024  09:15:54 -0400 (0:00:08.341)       0:00:38.862 ********** 
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Tuesday 11 June 2024  09:15:55 -0400 (0:00:00.703)       0:00:39.566 ********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Tuesday 11 June 2024  09:15:56 -0400 (0:00:00.952)       0:00:40.519 ********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Tuesday 11 June 2024  09:16:36 -0400 (0:00:40.590)       0:01:21.109 ********** 
changed: [ceph-node-03.cephlab.com]
changed: [ceph-node-01.cephlab.com]
changed: [ceph-node-02.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Tuesday 11 June 2024  09:16:37 -0400 (0:00:00.437)       0:01:21.547 ********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  09:16:38 -0400 (0:00:01.312)       0:01:22.860 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  09:16:38 -0400 (0:00:00.285)       0:01:23.146 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  09:16:39 -0400 (0:00:00.546)       0:01:23.692 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  09:16:39 -0400 (0:00:00.065)       0:01:23.758 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  09:16:41 -0400 (0:00:01.712)       0:01:25.471 ********** 
ok: [ceph-node-01.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  09:16:41 -0400 (0:00:00.063)       0:01:25.534 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Tuesday 11 June 2024  09:16:41 -0400 (0:00:00.049)       0:01:25.584 ********** 
ok: [ceph-node-01.cephlab.com] => 
  single_host_defaults: VARIABLE IS NOT DEFINED!
ok: [ceph-node-02.cephlab.com] => 
  single_host_defaults: VARIABLE IS NOT DEFINED!
ok: [ceph-node-03.cephlab.com] => 
  single_host_defaults: VARIABLE IS NOT DEFINED!
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: VARIABLE IS NOT DEFINED!

TASK [deploy_ceph : Set apply_spec path] ***************************************
Tuesday 11 June 2024  09:16:41 -0400 (0:00:00.045)       0:01:25.630 ********** 
skipping: [ceph-node-01.cephlab.com]
skipping: [ceph-node-02.cephlab.com]
skipping: [ceph-node-03.cephlab.com]
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Tuesday 11 June 2024  09:16:41 -0400 (0:00:00.062)       0:01:25.692 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Tuesday 11 June 2024  09:17:34 -0400 (0:00:53.177)       0:02:18.869 ********** 
ok: [ceph-node-03.cephlab.com]
ok: [ceph-node-02.cephlab.com]
ok: [ceph-node-00.cephlab.com]
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Tuesday 11 June 2024  09:17:35 -0400 (0:00:01.346)       0:02:20.216 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Tuesday 11 June 2024  09:17:36 -0400 (0:00:00.655)       0:02:20.872 ********** 
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Tuesday 11 June 2024  09:17:38 -0400 (0:00:01.758)       0:02:22.631 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Tuesday 11 June 2024  09:17:38 -0400 (0:00:00.379)       0:02:23.010 ********** 
ok: [ceph-node-01.cephlab.com] => 
  msg: 'Hostname: ceph-node-01.cephlab.com, IP Address: 192.168.122.179'
ok: [ceph-node-02.cephlab.com] => 
  msg: 'Hostname: ceph-node-02.cephlab.com, IP Address: 192.168.122.94'
ok: [ceph-node-03.cephlab.com] => 
  msg: 'Hostname: ceph-node-03.cephlab.com, IP Address: 192.168.122.180'
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Tuesday 11 June 2024  09:17:38 -0400 (0:00:00.060)       0:02:23.071 ********** 
changed: [ceph-node-02.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-03.cephlab.com -> ceph-node-00.cephlab.com]
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:18:16 -0400 (0:00:37.664)       0:03:00.735 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:18:17 -0400 (0:00:01.021)       0:03:01.757 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Tuesday 11 June 2024  09:18:17 -0400 (0:00:00.032)       0:03:01.789 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Tuesday 11 June 2024  09:18:17 -0400 (0:00:00.039)       0:03:01.829 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Tuesday 11 June 2024  09:18:18 -0400 (0:00:00.643)       0:03:02.472 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:18:21 -0400 (0:00:03.250)       0:03:05.722 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:18:22 -0400 (0:00:00.828)       0:03:06.550 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Tuesday 11 June 2024  09:18:22 -0400 (0:00:00.025)       0:03:06.576 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Tuesday 11 June 2024  09:18:22 -0400 (0:00:00.032)       0:03:06.608 ********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Tuesday 11 June 2024  09:18:22 -0400 (0:00:00.116)       0:03:06.724 ********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:02:08.525311'
  end: '2024-06-11 09:20:31.085263'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:18:22.559952'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.067556'
  end: '2024-06-11 09:20:31.508573'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:20:31.441017'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Tuesday 11 June 2024  09:20:31 -0400 (0:02:09.195)       0:05:15.920 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Tuesday 11 June 2024  09:20:31 -0400 (0:00:00.066)       0:05:15.987 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Tuesday 11 June 2024  09:20:32 -0400 (0:00:01.243)       0:05:17.230 ********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.605340'
  end: '2024-06-11 09:20:33.664562'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:20:33.059222'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.518363'
  end: '2024-06-11 09:20:34.407769'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:20:33.889406'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Tuesday 11 June 2024  09:20:34 -0400 (0:00:01.585)       0:05:18.815 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Tuesday 11 June 2024  09:20:34 -0400 (0:00:00.067)       0:05:18.883 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Tuesday 11 June 2024  09:20:43 -0400 (0:00:08.805)       0:05:27.689 ********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.131185'
  end: '2024-06-11 09:20:43.803753'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:20:43.672568'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:00.160300'
  end: '2024-06-11 09:20:44.244305'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:20:44.084005'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Tuesday 11 June 2024  09:20:44 -0400 (0:00:00.994)       0:05:28.683 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Tuesday 11 June 2024  09:20:44 -0400 (0:00:00.119)       0:05:28.803 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Tuesday 11 June 2024  09:20:45 -0400 (0:00:01.322)       0:05:30.126 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Tuesday 11 June 2024  09:21:07 -0400 (0:00:21.253)       0:05:51.379 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:21:07 -0400 (0:00:00.047)       0:05:51.427 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:21:07 -0400 (0:00:00.646)       0:05:52.073 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Tuesday 11 June 2024  09:21:07 -0400 (0:00:00.019)       0:05:52.093 ********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Tuesday 11 June 2024  09:21:07 -0400 (0:00:00.137)       0:05:52.230 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Tuesday 11 June 2024  09:21:08 -0400 (0:00:00.777)       0:05:53.008 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Tuesday 11 June 2024  09:21:08 -0400 (0:00:00.099)       0:05:53.107 ********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Tuesday 11 June 2024  09:21:08 -0400 (0:00:00.039)       0:05:53.147 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Tuesday 11 June 2024  09:21:09 -0400 (0:00:00.660)       0:05:53.807 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Tuesday 11 June 2024  09:21:09 -0400 (0:00:00.067)       0:05:53.875 ********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Tuesday 11 June 2024  09:21:09 -0400 (0:00:00.045)       0:05:53.921 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Tuesday 11 June 2024  09:21:10 -0400 (0:00:00.670)       0:05:54.591 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Tuesday 11 June 2024  09:21:10 -0400 (0:00:00.068)       0:05:54.660 ********** 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Tuesday 11 June 2024  09:21:10 -0400 (0:00:00.050)       0:05:54.710 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Tuesday 11 June 2024  09:21:12 -0400 (0:00:02.238)       0:05:56.949 ********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_ec_pool.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Debug EC pool variables] ***********************************
Tuesday 11 June 2024  09:21:12 -0400 (0:00:00.147)       0:05:57.096 ********** 
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: zone1'
ok: [ceph-node-01.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: singlezone'

TASK [deploy_ceph : Check if EC profile exists] ********************************
Tuesday 11 June 2024  09:21:12 -0400 (0:00:00.039)       0:05:57.136 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug EC profile existence result] *************************
Tuesday 11 June 2024  09:21:13 -0400 (0:00:00.523)       0:05:57.659 ********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_profile_exists:
    changed: true
    cmd: ceph osd erasure-code-profile get default
    delta: '0:00:00.327188'
    end: '2024-06-11 09:21:13.262578'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:21:12.935390'
    stderr: ''
    stderr_lines: []
    stdout: |-
      k=2
      m=2
      plugin=jerasure
      technique=reed_sol_van
    stdout_lines:
    - k=2
    - m=2
    - plugin=jerasure
    - technique=reed_sol_van

TASK [deploy_ceph : Create EC profile] *****************************************
Tuesday 11 June 2024  09:21:13 -0400 (0:00:00.039)       0:05:57.699 ********** 
skipping: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Check if EC pool exists] ***********************************
Tuesday 11 June 2024  09:21:13 -0400 (0:00:00.035)       0:05:57.735 ********** 
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep zone1.rgw.buckets.data
  delta: '0:00:00.363937'
  end: '2024-06-11 09:21:13.926036'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:21:13.562099'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
  delta: '0:00:00.428650'
  end: '2024-06-11 09:21:14.562005'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-11 09:21:14.133355'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Debug EC pool existence result] ****************************
Tuesday 11 June 2024  09:21:14 -0400 (0:00:01.225)       0:05:58.960 ********** 
ok: [ceph-node-01.cephlab.com] => 
  ec_pool_exists:
    changed: true
    failed: true
    msg: One or more items failed
    results:
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep zone1.rgw.buckets.data
      delta: '0:00:00.363937'
      end: '2024-06-11 09:21:13.926036'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep zone1.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec_sync
        rgw_count_per_host: 1
        rgw_frontend_port: 8000
        rgw_id: rgwsync
        rgw_label: rgwsync
        rgw_realm: multisite
        rgw_zone: zone1
        rgw_zonegroup: multizg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-11 09:21:13.562099'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
      delta: '0:00:00.428650'
      end: '2024-06-11 09:21:14.562005'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep singlezone.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec
        rgw_count_per_host: 1
        rgw_frontend_port: 8001
        rgw_id: rgw
        rgw_label: rgw
        rgw_realm: single
        rgw_zone: singlezone
        rgw_zonegroup: singlezg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-11 09:21:14.133355'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    skipped: false

TASK [deploy_ceph : Create EC pool] ********************************************
Tuesday 11 June 2024  09:21:14 -0400 (0:00:00.037)       0:05:58.998 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set EC pool application] ***********************************
Tuesday 11 June 2024  09:21:18 -0400 (0:00:04.259)       0:06:03.257 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Tuesday 11 June 2024  09:21:21 -0400 (0:00:02.210)       0:06:05.468 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Tuesday 11 June 2024  09:21:22 -0400 (0:00:01.171)       0:06:06.640 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Tuesday 11 June 2024  09:21:28 -0400 (0:00:05.896)       0:06:12.536 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Tuesday 11 June 2024  09:21:29 -0400 (0:00:01.162)       0:06:13.699 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:21:34 -0400 (0:00:05.661)       0:06:19.361 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:21:35 -0400 (0:00:00.724)       0:06:20.086 ********** 
ok: [ceph-node-01.cephlab.com]

TASK [deploy_ceph : Include self-signed certificate tasks] *********************
Tuesday 11 June 2024  09:21:35 -0400 (0:00:00.022)       0:06:20.109 ********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_self_signed_cert.yml for ceph-node-01.cephlab.com, ceph-node-02.cephlab.com, ceph-node-03.cephlab.com, ceph-node-00.cephlab.com

TASK [deploy_ceph : Generate a self-signed CA certificate] *********************
Tuesday 11 June 2024  09:21:35 -0400 (0:00:00.116)       0:06:20.225 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a private key] ************************************
Tuesday 11 June 2024  09:21:36 -0400 (0:00:00.271)       0:06:20.497 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a certificate signing request (CSR)] **************
Tuesday 11 June 2024  09:21:36 -0400 (0:00:00.263)       0:06:20.760 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Generate a self-signed certificate] ************************
Tuesday 11 June 2024  09:21:36 -0400 (0:00:00.261)       0:06:21.022 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read CA certificate] ***************************************
Tuesday 11 June 2024  09:21:36 -0400 (0:00:00.240)       0:06:21.263 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read server certificate] ***********************************
Tuesday 11 June 2024  09:21:37 -0400 (0:00:00.221)       0:06:21.484 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Read private key] ******************************************
Tuesday 11 June 2024  09:21:37 -0400 (0:00:00.235)       0:06:21.720 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set SSL certificate facts] *********************************
Tuesday 11 June 2024  09:21:37 -0400 (0:00:00.222)       0:06:21.942 ********** 
ok: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW ingress service spec template] **************
Tuesday 11 June 2024  09:21:37 -0400 (0:00:00.041)       0:06:21.984 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

TASK [deploy_ceph : Apply the RGW ingress service spec] ************************
Tuesday 11 June 2024  09:21:38 -0400 (0:00:00.758)       0:06:22.743 ********** 
changed: [ceph-node-01.cephlab.com -> ceph-node-00.cephlab.com] => (item={'name': 'rgw_ingress', 'template': 'ingress_spec.j2', 'ingress_id': 'rgw.client', 'backend_service': 'rgw.rgw', 'virt_ip': '192.168.122.150/24', 'frontend_port': 443, 'monitor_port': 1967})

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=22   changed=5    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
ceph-node-01.cephlab.com   : ok=77   changed=34   unreachable=0    failed=0    skipped=8    rescued=0    ignored=4   
ceph-node-02.cephlab.com   : ok=22   changed=5    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
ceph-node-03.cephlab.com   : ok=22   changed=5    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  09:21:41 -0400 (0:00:03.016)       0:06:25.759 ********** 
=============================================================================== 
deploy_ceph : Check if RGW realm exists ------------------------------- 129.20s
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 53.18s
deploy_ceph : Install IBM Storage Ceph license ------------------------- 40.59s
deploy_ceph : Add host to the Ceph cluster ----------------------------- 37.66s
deploy_ceph : Update RGW period ---------------------------------------- 21.25s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 21.07s
deploy_ceph : Create RGW zonegroup -------------------------------------- 8.81s
deploy_ceph : Install necessary packages -------------------------------- 8.34s
deploy_ceph : Update all OS packages ------------------------------------ 7.65s
deploy_ceph : Apply the RGW service specs ------------------------------- 5.90s
deploy_ceph : Apply the RGW service specs ------------------------------- 5.66s
deploy_ceph : Create EC pool -------------------------------------------- 4.26s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 3.25s
deploy_ceph : Apply the RGW ingress service spec ------------------------ 3.02s
deploy_ceph : Update RGW period ----------------------------------------- 2.24s
deploy_ceph : Set EC pool application ----------------------------------- 2.21s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.76s
deploy_ceph : Gather facts ---------------------------------------------- 1.71s
deploy_ceph : Check if RGW zonegroup exists ----------------------------- 1.59s
deploy_ceph : Check the Uptime of the servers --------------------------- 1.58s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:33:11 -0400 (0:00:00.010)       0:00:00.010 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.038)       0:00:00.049 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.012)       0:00:00.061 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.039)       0:00:00.101 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.022)       0:00:00.123 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.027)       0:00:00.151 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  09:33:12 -0400 (0:00:00.042)       0:00:00.194 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:02.049)       0:00:02.243 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.329)       0:00:02.573 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.016)       0:00:02.589 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.017)       0:00:02.607 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.023)       0:00:02.630 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.017)       0:00:02.647 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  09:33:14 -0400 (0:00:00.017)       0:00:02.665 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  09:33:15 -0400 (0:00:00.635)       0:00:03.301 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  09:33:18 -0400 (0:00:02.829)       0:00:06.130 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:33:27 -0400 (0:00:09.704)       0:00:15.834 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:06.463)       0:00:22.298 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.613)       0:00:22.911 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.016)       0:00:22.927 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.016)       0:00:22.943 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.015)       0:00:22.959 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.015)       0:00:22.974 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.015)       0:00:22.990 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.015)       0:00:23.005 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  09:33:34 -0400 (0:00:00.015)       0:00:23.020 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.026)       0:00:23.047 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.014)       0:00:23.061 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.016)       0:00:23.077 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.056)       0:00:23.134 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.062)       0:00:23.196 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.030)       0:00:23.226 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.033)       0:00:23.260 ********** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 9.70s
install prerequisites packages ------------------------------------------ 6.46s
install package --------------------------------------------------------- 2.83s
configure ceph repository key ------------------------------------------- 2.05s
enable required CentOS repository for epel ------------------------------ 0.64s
ensure chronyd is running ----------------------------------------------- 0.61s
configure ceph stable repository ---------------------------------------- 0.33s
fail if insecure_registry is undefined ---------------------------------- 0.06s
install docker ---------------------------------------------------------- 0.06s
set_fact _ceph_repo ----------------------------------------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
add registry as insecure registry in registries.conf -------------------- 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.03s
disable older rhceph repositories if any -------------------------------- 0.03s
uninstall old version packages ------------------------------------------ 0.03s
remove ceph_stable repositories ----------------------------------------- 0.02s
enable red hat ceph storage tools repository ---------------------------- 0.02s
setup custom repositories ----------------------------------------------- 0.02s
configure ceph development repository ----------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Tuesday 11 June 2024  09:33:35 -0400 (0:00:00.050)       0:00:00.050 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Tuesday 11 June 2024  09:33:42 -0400 (0:00:07.113)       0:00:07.163 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Tuesday 11 June 2024  09:33:43 -0400 (0:00:00.020)       0:00:07.183 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Tuesday 11 June 2024  09:34:03 -0400 (0:00:20.751)       0:00:27.935 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Tuesday 11 June 2024  09:34:04 -0400 (0:00:00.290)       0:00:28.226 ********** 
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.005259'
    end: '2024-06-11 09:34:04.022009'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:34:04.016750'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:34:04 up 7 days, 22:35,  1 user,  load average: 0.21, 0.38, 0.69'
    stdout_lines:
    - ' 09:34:04 up 7 days, 22:35,  1 user,  load average: 0.21, 0.38, 0.69'

TASK [deploy_ceph : Install necessary packages] ********************************
Tuesday 11 June 2024  09:34:04 -0400 (0:00:00.021)       0:00:28.248 ********** 
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Tuesday 11 June 2024  09:34:09 -0400 (0:00:05.395)       0:00:33.643 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Tuesday 11 June 2024  09:34:09 -0400 (0:00:00.404)       0:00:34.048 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Tuesday 11 June 2024  09:34:10 -0400 (0:00:00.793)       0:00:34.841 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Tuesday 11 June 2024  09:34:35 -0400 (0:00:24.880)       0:00:59.722 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Tuesday 11 June 2024  09:34:35 -0400 (0:00:00.311)       0:01:00.034 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  09:34:36 -0400 (0:00:00.970)       0:01:01.004 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  09:34:37 -0400 (0:00:00.279)       0:01:01.283 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  09:34:37 -0400 (0:00:00.476)       0:01:01.759 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  09:34:37 -0400 (0:00:00.019)       0:01:01.779 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  09:34:39 -0400 (0:00:01.452)       0:01:03.232 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  09:34:39 -0400 (0:00:00.038)       0:01:03.271 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Tuesday 11 June 2024  09:34:39 -0400 (0:00:00.014)       0:01:03.285 ********** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: VARIABLE IS NOT DEFINED!

TASK [deploy_ceph : Set apply_spec path] ***************************************
Tuesday 11 June 2024  09:34:39 -0400 (0:00:00.017)       0:01:03.303 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Tuesday 11 June 2024  09:34:39 -0400 (0:00:00.032)       0:01:03.335 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Tuesday 11 June 2024  09:35:41 -0400 (0:01:01.871)       0:02:05.207 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Tuesday 11 June 2024  09:35:42 -0400 (0:00:01.550)       0:02:06.758 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Tuesday 11 June 2024  09:35:43 -0400 (0:00:00.585)       0:02:07.343 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Tuesday 11 June 2024  09:35:44 -0400 (0:00:01.722)       0:02:09.066 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Tuesday 11 June 2024  09:35:45 -0400 (0:00:00.311)       0:02:09.377 ********** 
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Tuesday 11 June 2024  09:35:45 -0400 (0:00:00.033)       0:02:09.411 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:36:00 -0400 (0:00:15.178)       0:02:24.589 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:36:01 -0400 (0:00:00.651)       0:02:25.241 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Tuesday 11 June 2024  09:36:01 -0400 (0:00:00.025)       0:02:25.266 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Tuesday 11 June 2024  09:36:01 -0400 (0:00:00.061)       0:02:25.327 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Tuesday 11 June 2024  09:36:01 -0400 (0:00:00.573)       0:02:25.901 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Tuesday 11 June 2024  09:36:04 -0400 (0:00:02.442)       0:02:28.344 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Tuesday 11 June 2024  09:36:04 -0400 (0:00:00.618)       0:02:28.963 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Tuesday 11 June 2024  09:36:04 -0400 (0:00:00.021)       0:02:28.985 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Tuesday 11 June 2024  09:36:04 -0400 (0:00:00.027)       0:02:29.012 ********** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Tuesday 11 June 2024  09:36:04 -0400 (0:00:00.040)       0:02:29.053 ********** 

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.010)       0:00:00.010 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.038)       0:00:00.049 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.011)       0:00:00.060 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.052)       0:00:00.112 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.028)       0:00:00.140 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.027)       0:00:00.167 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  09:56:53 -0400 (0:00:00.036)       0:00:00.203 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  09:56:54 -0400 (0:00:00.948)       0:00:01.152 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.330)       0:00:01.483 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.019)       0:00:01.502 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.015)       0:00:01.517 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.028)       0:00:01.546 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.020)       0:00:01.566 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.024)       0:00:01.590 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  09:56:55 -0400 (0:00:00.477)       0:00:02.068 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  09:56:58 -0400 (0:00:02.604)       0:00:04.672 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:57:04 -0400 (0:00:06.403)       0:00:11.076 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  09:57:09 -0400 (0:00:05.029)       0:00:16.106 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.574)       0:00:16.681 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.015)       0:00:16.696 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.015)       0:00:16.711 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.015)       0:00:16.726 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.015)       0:00:16.742 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.017)       0:00:16.759 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.015)       0:00:16.775 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.017)       0:00:16.792 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.039)       0:00:16.832 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.021)       0:00:16.853 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.024)       0:00:16.878 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.074)       0:00:16.953 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.040)       0:00:16.993 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.024)       0:00:17.018 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  09:57:10 -0400 (0:00:00.036)       0:00:17.054 ********** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 6.40s
install prerequisites packages ------------------------------------------ 5.03s
install package --------------------------------------------------------- 2.60s
configure ceph repository key ------------------------------------------- 0.95s
ensure chronyd is running ----------------------------------------------- 0.57s
enable required CentOS repository for epel ------------------------------ 0.48s
configure ceph stable repository ---------------------------------------- 0.33s
install docker ---------------------------------------------------------- 0.07s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.05s
fail if insecure_registry is undefined ---------------------------------- 0.04s
uninstall old version packages ------------------------------------------ 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
add registry as insecure registry in registries.conf -------------------- 0.04s
set_fact _ceph_repo ----------------------------------------------------- 0.04s
remove ceph_stable repositories ----------------------------------------- 0.03s
enable red hat ceph storage tools repository ---------------------------- 0.03s
disable older rhceph repositories if any -------------------------------- 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.02s
setup docker repository ------------------------------------------------- 0.02s
setup custom repositories ----------------------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Tuesday 11 June 2024  09:57:11 -0400 (0:00:00.043)       0:00:00.043 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Tuesday 11 June 2024  09:57:16 -0400 (0:00:04.861)       0:00:04.904 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Tuesday 11 June 2024  09:57:16 -0400 (0:00:00.021)       0:00:04.925 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check the Uptime of the servers] ***************************
Tuesday 11 June 2024  09:57:37 -0400 (0:00:20.758)       0:00:25.684 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : debug] *****************************************************
Tuesday 11 June 2024  09:57:37 -0400 (0:00:00.392)       0:00:26.077 ********** 
ok: [ceph-node-00.cephlab.com] => 
  Uptime:
    changed: true
    cmd: uptime
    delta: '0:00:00.004247'
    end: '2024-06-11 09:57:37.393545'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-11 09:57:37.389298'
    stderr: ''
    stderr_lines: []
    stdout: ' 09:57:37 up 7 days, 22:58,  1 user,  load average: 0.46, 0.31, 0.49'
    stdout_lines:
    - ' 09:57:37 up 7 days, 22:58,  1 user,  load average: 0.46, 0.31, 0.49'

TASK [deploy_ceph : Install necessary packages] ********************************
Tuesday 11 June 2024  09:57:37 -0400 (0:00:00.020)       0:00:26.098 ********** 
ok: [ceph-node-00.cephlab.com] => (item=python3-dns.noarch)
ok: [ceph-node-00.cephlab.com] => (item=python3-pyOpenSSL.noarch)
ok: [ceph-node-00.cephlab.com] => (item=bind-utils)
ok: [ceph-node-00.cephlab.com] => (item=nc)
ok: [ceph-node-00.cephlab.com] => (item=vim)
ok: [ceph-node-00.cephlab.com] => (item=python3-pip.noarch)

TASK [deploy_ceph : Drop DNF Cache] ********************************************
Tuesday 11 June 2024  09:57:42 -0400 (0:00:05.514)       0:00:31.612 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Enable IBM Ceph repository] ********************************
Tuesday 11 June 2024  09:57:43 -0400 (0:00:00.377)       0:00:31.990 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install IBM Storage Ceph license] **************************
Tuesday 11 June 2024  09:57:44 -0400 (0:00:00.869)       0:00:32.860 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Accept IBM Storage Ceph license] ***************************
Tuesday 11 June 2024  09:59:17 -0400 (0:01:33.339)       0:02:06.200 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Install cephadm-ansible] ***********************************
Tuesday 11 June 2024  09:59:17 -0400 (0:00:00.296)       0:02:06.496 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  09:59:18 -0400 (0:00:00.910)       0:02:07.407 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  09:59:19 -0400 (0:00:00.270)       0:02:07.677 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  09:59:19 -0400 (0:00:00.399)       0:02:08.077 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  09:59:19 -0400 (0:00:00.023)       0:02:08.100 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  09:59:21 -0400 (0:00:01.782)       0:02:09.883 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  09:59:21 -0400 (0:00:00.043)       0:02:09.927 ********** 
fatal: [ceph-node-00.cephlab.com]: FAILED! => 
  msg: |-
    The conditional check 'host_count <= 1' failed. The error was: Unexpected templating type error occurred on ({% if host_count <= 1 %} True {% else %} False {% endif %}): '<=' not supported between instances of 'str' and 'int'. '<=' not supported between instances of 'str' and 'int'
  
    The error appears to be in '/root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/bootstrap.yml': line 28, column 3, but may
    be elsewhere in the file depending on the exact syntax problem.
  
    The offending line appears to be:
  
  
    - name: Set single_host_defaults if only one host
      ^ here

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=14   changed=3    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   

Tuesday 11 June 2024  09:59:21 -0400 (0:00:00.015)       0:02:09.943 ********** 
=============================================================================== 
deploy_ceph : Install IBM Storage Ceph license ------------------------- 93.34s
deploy_ceph : Wait for the reboot and reconnect ------------------------ 20.76s
deploy_ceph : Install necessary packages -------------------------------- 5.51s
deploy_ceph : Update all OS packages ------------------------------------ 4.86s
deploy_ceph : Gather facts ---------------------------------------------- 1.78s
deploy_ceph : Install cephadm-ansible ----------------------------------- 0.91s
deploy_ceph : Enable IBM Ceph repository -------------------------------- 0.87s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.40s
deploy_ceph : Check the Uptime of the servers --------------------------- 0.39s
deploy_ceph : Drop DNF Cache -------------------------------------------- 0.38s
deploy_ceph : Accept IBM Storage Ceph license --------------------------- 0.30s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.27s
deploy_ceph : Count the number of hosts --------------------------------- 0.04s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.02s
deploy_ceph : Reboot the server ----------------------------------------- 0.02s
deploy_ceph : debug ----------------------------------------------------- 0.02s
deploy_ceph : Set single_host_defaults if only one host ----------------- 0.02s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:52:49 -0400 (0:00:00.014)       0:00:00.014 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  16:52:49 -0400 (0:00:00.041)       0:00:00.056 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  16:52:49 -0400 (0:00:00.016)       0:00:00.072 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
Tuesday 11 June 2024  16:52:49 -0400 (0:00:00.038)       0:00:00.110 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  16:52:51 -0400 (0:00:02.225)       0:00:02.336 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  16:52:51 -0400 (0:00:00.026)       0:00:02.362 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  16:52:51 -0400 (0:00:00.015)       0:00:02.378 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  16:52:51 -0400 (0:00:00.022)       0:00:02.400 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.803)       0:00:03.204 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.347)       0:00:03.552 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.016)       0:00:03.568 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.015)       0:00:03.584 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.026)       0:00:03.611 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.015)       0:00:03.626 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  16:52:52 -0400 (0:00:00.015)       0:00:03.641 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  16:52:53 -0400 (0:00:00.447)       0:00:04.089 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  16:53:06 -0400 (0:00:13.011)       0:00:17.101 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  16:53:07 -0400 (0:00:00.998)       0:00:18.099 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.961)       0:00:19.061 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.518)       0:00:19.579 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.016)       0:00:19.596 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.018)       0:00:19.614 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.015)       0:00:19.630 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.020)       0:00:19.650 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.030)       0:00:19.681 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.024)       0:00:19.706 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.018)       0:00:19.725 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.038)       0:00:19.763 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.022)       0:00:19.785 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  16:53:08 -0400 (0:00:00.021)       0:00:19.807 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:53:09 -0400 (0:00:00.039)       0:00:19.846 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:53:09 -0400 (0:00:00.042)       0:00:19.889 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  16:53:09 -0400 (0:00:00.025)       0:00:19.914 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=9    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  16:53:09 -0400 (0:00:00.031)       0:00:19.946 ********** 
=============================================================================== 
install package -------------------------------------------------------- 13.01s
Gathering Facts --------------------------------------------------------- 2.23s
install ceph-common on rhel --------------------------------------------- 1.00s
install prerequisites packages ------------------------------------------ 0.96s
configure ceph repository key ------------------------------------------- 0.80s
ensure chronyd is running ----------------------------------------------- 0.52s
enable required CentOS repository for epel ------------------------------ 0.45s
configure ceph stable repository ---------------------------------------- 0.35s
fail if insecure_registry is undefined ---------------------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
install docker ---------------------------------------------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.04s
uninstall old version packages ------------------------------------------ 0.04s
add registry as insecure registry in registries.conf -------------------- 0.03s
configure Ceph custom repositories -------------------------------------- 0.03s
remove ceph_stable repositories ----------------------------------------- 0.03s
enable red hat ceph storage tools repository ---------------------------- 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.03s
install prerequisites packages ------------------------------------------ 0.02s
set_fact _ceph_repo ----------------------------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Update all OS packages] ************************************
Tuesday 11 June 2024  16:53:09 -0400 (0:00:00.041)       0:00:00.041 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Reboot the server] *****************************************
Tuesday 11 June 2024  16:55:17 -0400 (0:02:07.784)       0:02:07.826 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Wait for the reboot and reconnect] *************************
Tuesday 11 June 2024  16:55:18 -0400 (0:00:00.660)       0:02:08.487 ********** 

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.013)       0:00:00.013 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.045)       0:00:00.058 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.011)       0:00:00.070 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.035)       0:00:00.105 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.020)       0:00:00.126 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.017)       0:00:00.144 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  16:56:59 -0400 (0:00:00.023)       0:00:00.168 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:01.791)       0:00:01.959 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.326)       0:00:02.286 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.017)       0:00:02.303 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.021)       0:00:02.325 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.023)       0:00:02.348 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.020)       0:00:02.369 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  16:57:01 -0400 (0:00:00.022)       0:00:02.391 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  16:57:05 -0400 (0:00:03.951)       0:00:06.343 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  16:57:20 -0400 (0:00:15.300)       0:00:21.644 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  16:57:21 -0400 (0:00:00.948)       0:00:22.592 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  16:57:22 -0400 (0:00:00.946)       0:00:23.539 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:01.473)       0:00:25.012 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.014)       0:00:25.027 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.017)       0:00:25.045 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.015)       0:00:25.060 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.014)       0:00:25.075 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.017)       0:00:25.092 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.015)       0:00:25.107 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.014)       0:00:25.122 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.029)       0:00:25.151 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.024)       0:00:25.176 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.015)       0:00:25.192 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.044)       0:00:25.236 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.040)       0:00:25.276 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.024)       0:00:25.301 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=0    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  16:57:24 -0400 (0:00:00.037)       0:00:25.338 ********** 
=============================================================================== 
install package -------------------------------------------------------- 15.30s
enable required CentOS repository for epel ------------------------------ 3.95s
configure ceph repository key ------------------------------------------- 1.79s
ensure chronyd is running ----------------------------------------------- 1.47s
install ceph-common on rhel --------------------------------------------- 0.95s
install prerequisites packages ------------------------------------------ 0.95s
configure ceph stable repository ---------------------------------------- 0.33s
fail if insecure_registry is undefined ---------------------------------- 0.05s
install docker ---------------------------------------------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
add registry as insecure registry in registries.conf -------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.04s
uninstall old version packages ------------------------------------------ 0.03s
configure docker repository key ----------------------------------------- 0.02s
fail if insecure_registry is undefined ---------------------------------- 0.02s
set_fact _ceph_repo ----------------------------------------------------- 0.02s
remove ceph_stable repositories ----------------------------------------- 0.02s
setup custom repositories ----------------------------------------------- 0.02s
configure ceph development repository ----------------------------------- 0.02s
enable red hat ceph storage tools repository ---------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  16:57:25 -0400 (0:00:00.051)       0:00:00.051 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  16:57:25 -0400 (0:00:00.295)       0:00:00.347 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  16:57:27 -0400 (0:00:02.094)       0:00:02.441 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  16:57:27 -0400 (0:00:00.074)       0:00:02.515 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  16:57:29 -0400 (0:00:02.109)       0:00:04.625 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  16:57:29 -0400 (0:00:00.028)       0:00:04.653 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Tuesday 11 June 2024  16:57:30 -0400 (0:00:00.032)       0:00:04.686 ********** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Set apply_spec path] ***************************************
Tuesday 11 June 2024  16:57:30 -0400 (0:00:00.016)       0:00:04.702 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Tuesday 11 June 2024  16:57:30 -0400 (0:00:00.036)       0:00:04.739 ********** 
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cephadm
  - bootstrap
  - --allow-fqdn-hostname
  - --apply-spec
  - /path/to/spec/file
  - --mon-ip
  - 192.168.122.12
  - --single-host-defaults
  delta: '0:01:34.545088'
  end: '2024-06-11 16:59:04.984350'
  rc: 1
  start: '2024-06-11 16:57:30.439262'
  stderr: |-
    Traceback (most recent call last):
      File "/usr/lib64/python3.9/runpy.py", line 197, in _run_module_as_main
        return _run_code(code, main_globals, None,
      File "/usr/lib64/python3.9/runpy.py", line 87, in _run_code
        exec(code, run_globals)
      File "/tmp/tmpds23h5v6.cephadm.build/__main__.py", line 10643, in <module>
      File "/tmp/tmpds23h5v6.cephadm.build/__main__.py", line 10631, in main
      File "/tmp/tmpds23h5v6.cephadm.build/__main__.py", line 2399, in _default_image
      File "/tmp/tmpds23h5v6.cephadm.build/__main__.py", line 6331, in command_bootstrap
    FileNotFoundError: [Errno 2] No such file or directory: '/path/to/spec/file'
  stderr_lines: <omitted>
  stdout: |-
    Verifying podman|docker is present...
    Verifying lvm2 is present...
    Verifying time synchronization is in place...
    Unit chronyd.service is enabled and running
    Repeating the final host check...
    podman (/bin/podman) version 5.1.0 is present
    systemctl is present
    lvcreate is present
    Unit chronyd.service is enabled and running
    Host looks OK
    Cluster fsid: 38096ea2-2835-11ef-bc78-52540016bbfa
    Verifying IP 192.168.122.12 port 3300 ...
    Verifying IP 192.168.122.12 port 6789 ...
    Mon IP `192.168.122.12` is in CIDR network `192.168.122.0/24`
    Mon IP `192.168.122.12` is in CIDR network `192.168.122.0/24`
    Internal network (--cluster-network) has not been provided, OSD replication will default to the public_network
    Adjusting default settings to suit single-host cluster...
    Pulling container image cp.icr.io/cp/ibm-ceph/ceph-7-rhel9:latest...
    Ceph version: ceph version 18.2.0-192.el9cp (d96dcaf9fd7ef5530bddebb07f804049c840d87e) reef (stable)
    Extracting ceph user uid/gid from container image...
    Creating initial keys...
    Creating initial monmap...
    Creating mon...
    Waiting for mon to start...
    Waiting for mon...
    mon is available
    Assimilating anything we can from ceph.conf...
    Generating new minimal ceph.conf...
    Restarting the monitor...
    Setting mon public_network to 192.168.122.0/24
    Wrote config to /etc/ceph/ceph.conf
    Wrote keyring to /etc/ceph/ceph.client.********.keyring
    Creating mgr...
    Verifying port 0.0.0.0:9283 ...
    Verifying port 0.0.0.0:8765 ...
    Verifying port 0.0.0.0:8443 ...
    Waiting for mgr to start...
    Waiting for mgr...
    mgr not available, waiting (1/15)...
    mgr not available, waiting (2/15)...
    mgr not available, waiting (3/15)...
    mgr not available, waiting (4/15)...
    mgr not available, waiting (5/15)...
    mgr not available, waiting (6/15)...
    mgr not available, waiting (7/15)...
    mgr not available, waiting (8/15)...
    mgr is available
    Enabling cephadm module...
    Waiting for the mgr to restart...
    Waiting for mgr epoch 5...
    mgr epoch 5 is available
    Setting orchestrator backend to cephadm...
    Generating ssh key...
    Wrote public SSH key to /etc/ceph/ceph.pub
    Adding key to root@localhost authorized_keys...
    Adding host ceph-node-00.cephlab.com...
    Deploying mon service with default placement...
    Deploying mgr service with default placement...
    Deploying crash service with default placement...
    Deploying ceph-exporter service with default placement...
    Deploying prometheus service with default placement...
    Deploying grafana service with default placement...
    Deploying node-exporter service with default placement...
    Deploying alertmanager service with default placement...
    Enabling the dashboard module...
    Waiting for the mgr to restart...
    Waiting for mgr epoch 9...
    mgr epoch 9 is available
    Generating a dashboard self-signed certificate...
    Creating initial ******** user...
    Fetching dashboard port number...
    Ceph Dashboard is now available at:
  
                 URL: https://ceph-node-00.cephlab.com:8443/
                User: ********
            Password: npe2f9ni5s
  
    Enabling client.******** keyring and conf on hosts with "********" label
    Applying /path/to/spec/file to cluster
  stdout_lines: <omitted>

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Tuesday 11 June 2024  16:59:05 -0400 (0:01:34.968)       0:01:39.707 ********** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 94.97s
deploy_ceph : Gather facts ---------------------------------------------- 2.11s
deploy_ceph : Login to Ceph registry ------------------------------------ 2.09s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.30s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.07s
deploy_ceph : Set apply_spec path --------------------------------------- 0.04s
deploy_ceph : Set single_host_defaults if only one host ----------------- 0.03s
deploy_ceph : Count the number of hosts --------------------------------- 0.03s
deploy_ceph : Debug single_host_defaults value -------------------------- 0.02s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.010)       0:00:00.010 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.041)       0:00:00.051 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.011)       0:00:00.063 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.033)       0:00:00.096 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.016)       0:00:00.113 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.017)       0:00:00.130 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  17:17:58 -0400 (0:00:00.025)       0:00:00.156 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.827)       0:00:00.983 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.296)       0:00:01.280 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.019)       0:00:01.299 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.016)       0:00:01.316 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.023)       0:00:01.339 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.016)       0:00:01.356 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  17:17:59 -0400 (0:00:00.019)       0:00:01.375 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  17:18:00 -0400 (0:00:00.521)       0:00:01.897 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  17:18:02 -0400 (0:00:01.952)       0:00:03.849 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  17:18:11 -0400 (0:00:09.279)       0:00:13.129 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  17:18:16 -0400 (0:00:04.896)       0:00:18.026 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.564)       0:00:18.591 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.016)       0:00:18.608 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.018)       0:00:18.626 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.020)       0:00:18.646 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.021)       0:00:18.668 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.020)       0:00:18.688 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.015)       0:00:18.703 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.017)       0:00:18.720 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.032)       0:00:18.753 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.022)       0:00:18.776 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.020)       0:00:18.796 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.056)       0:00:18.852 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.066)       0:00:18.919 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.035)       0:00:18.955 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  17:18:17 -0400 (0:00:00.037)       0:00:18.993 ********** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 9.28s
install prerequisites packages ------------------------------------------ 4.90s
install package --------------------------------------------------------- 1.95s
configure ceph repository key ------------------------------------------- 0.83s
ensure chronyd is running ----------------------------------------------- 0.56s
enable required CentOS repository for epel ------------------------------ 0.52s
configure ceph stable repository ---------------------------------------- 0.30s
fail if insecure_registry is undefined ---------------------------------- 0.07s
install docker ---------------------------------------------------------- 0.06s
fail if insecure_registry is undefined ---------------------------------- 0.04s
add registry as insecure registry in registries.conf -------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.03s
uninstall old version packages ------------------------------------------ 0.03s
set_fact _ceph_repo ----------------------------------------------------- 0.03s
remove ceph_stable repositories ----------------------------------------- 0.02s
configure docker repository key ----------------------------------------- 0.02s
configure Ceph testing repository --------------------------------------- 0.02s
setup docker repository ------------------------------------------------- 0.02s
configure Ceph community repository ------------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  17:18:18 -0400 (0:00:00.051)       0:00:00.051 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  17:18:18 -0400 (0:00:00.325)       0:00:00.376 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  17:18:18 -0400 (0:00:00.439)       0:00:00.815 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  17:18:18 -0400 (0:00:00.020)       0:00:00.836 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  17:18:20 -0400 (0:00:01.864)       0:00:02.701 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  17:18:20 -0400 (0:00:00.036)       0:00:02.737 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Tuesday 11 June 2024  17:18:20 -0400 (0:00:00.047)       0:00:02.785 ********** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Tuesday 11 June 2024  17:18:20 -0400 (0:00:00.045)       0:00:02.831 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster without apply_spec] *****************
Tuesday 11 June 2024  17:19:12 -0400 (0:00:51.760)       0:00:54.591 ********** 
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cephadm
  - bootstrap
  - --allow-fqdn-hostname
  - --mon-ip
  - 192.168.122.12
  - --single-host-defaults
  delta: '0:00:00.204220'
  end: '2024-06-11 17:19:13.221422'
  rc: 1
  start: '2024-06-11 17:19:13.017202'
  stderr: 'ERROR: /etc/ceph/ceph.conf already exists; delete or pass --allow-overwrite to overwrite'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Tuesday 11 June 2024  17:19:13 -0400 (0:00:00.509)       0:00:55.101 ********** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 51.76s
deploy_ceph : Gather facts ---------------------------------------------- 1.86s
deploy_ceph : Bootstrap Ceph cluster without apply_spec ----------------- 0.51s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.44s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.33s
deploy_ceph : Set single_host_defaults if only one host ----------------- 0.05s
deploy_ceph : Debug single_host_defaults value -------------------------- 0.05s
deploy_ceph : Count the number of hosts --------------------------------- 0.04s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.02s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.011)       0:00:00.011 ********** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.038)       0:00:00.049 ********** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.012)       0:00:00.062 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.036)       0:00:00.098 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.018)       0:00:00.117 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.020)       0:00:00.138 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Tuesday 11 June 2024  17:20:41 -0400 (0:00:00.031)       0:00:00.169 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:01.461)       0:00:01.630 ********** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.329)       0:00:01.960 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.019)       0:00:01.979 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.016)       0:00:01.995 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.024)       0:00:02.020 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.017)       0:00:02.037 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.018)       0:00:02.056 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Tuesday 11 June 2024  17:20:43 -0400 (0:00:00.449)       0:00:02.505 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Tuesday 11 June 2024  17:20:45 -0400 (0:00:01.590)       0:00:04.096 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  17:20:51 -0400 (0:00:06.360)       0:00:10.456 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Tuesday 11 June 2024  17:20:55 -0400 (0:00:03.624)       0:00:14.081 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.649)       0:00:14.730 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.016)       0:00:14.747 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.016)       0:00:14.764 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.779 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.795 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.811 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.826 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.842 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.026)       0:00:14.869 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.015)       0:00:14.884 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.016)       0:00:14.901 ********** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.041)       0:00:14.942 ********** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.047)       0:00:14.990 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.025)       0:00:15.016 ********** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Tuesday 11 June 2024  17:20:56 -0400 (0:00:00.035)       0:00:15.051 ********** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 6.36s
install prerequisites packages ------------------------------------------ 3.62s
install package --------------------------------------------------------- 1.59s
configure ceph repository key ------------------------------------------- 1.46s
ensure chronyd is running ----------------------------------------------- 0.65s
enable required CentOS repository for epel ------------------------------ 0.45s
configure ceph stable repository ---------------------------------------- 0.33s
fail if insecure_registry is undefined ---------------------------------- 0.05s
install docker ---------------------------------------------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.04s
add registry as insecure registry in registries.conf -------------------- 0.04s
set_fact _ceph_repo ----------------------------------------------------- 0.03s
uninstall old version packages ------------------------------------------ 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.03s
remove ceph_stable repositories ----------------------------------------- 0.02s
disable older rhceph repositories if any -------------------------------- 0.02s
fetch ceph development repository --------------------------------------- 0.02s
enable red hat ceph storage tools repository ---------------------------- 0.02s
setup custom repositories ----------------------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Tuesday 11 June 2024  17:20:57 -0400 (0:00:00.050)       0:00:00.050 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Tuesday 11 June 2024  17:20:57 -0400 (0:00:00.280)       0:00:00.331 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Tuesday 11 June 2024  17:20:57 -0400 (0:00:00.452)       0:00:00.784 ********** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Tuesday 11 June 2024  17:20:57 -0400 (0:00:00.020)       0:00:00.804 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Tuesday 11 June 2024  17:20:59 -0400 (0:00:01.524)       0:00:02.329 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Tuesday 11 June 2024  17:20:59 -0400 (0:00:00.057)       0:00:02.386 ********** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Tuesday 11 June 2024  17:20:59 -0400 (0:00:00.036)       0:00:02.422 ********** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Tuesday 11 June 2024  17:20:59 -0400 (0:00:00.021)       0:00:02.444 ********** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster without apply_spec] *****************
Tuesday 11 June 2024  17:22:22 -0400 (0:01:22.504)       0:01:24.948 ********** 
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cephadm
  - bootstrap
  - --allow-fqdn-hostname
  - --mon-ip
  - 192.168.122.12
  - --single-host-defaults
  delta: '0:00:00.292750'
  end: '2024-06-11 17:22:22.578047'
  rc: 1
  start: '2024-06-11 17:22:22.285297'
  stderr: 'ERROR: /etc/ceph/ceph.conf already exists; delete or pass --allow-overwrite to overwrite'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Tuesday 11 June 2024  17:22:22 -0400 (0:00:00.507)       0:01:25.456 ********** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 82.50s
deploy_ceph : Gather facts ---------------------------------------------- 1.52s
deploy_ceph : Bootstrap Ceph cluster without apply_spec ----------------- 0.51s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.45s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.28s
deploy_ceph : Count the number of hosts --------------------------------- 0.06s
deploy_ceph : Set single_host_defaults if only one host ----------------- 0.04s
deploy_ceph : Debug single_host_defaults value -------------------------- 0.02s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.02s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:09:18 -0400 (0:00:00.013)       0:00:00.013 ******** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Wednesday 12 June 2024  02:09:18 -0400 (0:00:00.037)       0:00:00.050 ******** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Wednesday 12 June 2024  02:09:18 -0400 (0:00:00.013)       0:00:00.064 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
Wednesday 12 June 2024  02:09:18 -0400 (0:00:00.023)       0:00:00.088 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [enable red hat ceph storage tools repository] ****************************
Wednesday 12 June 2024  02:09:21 -0400 (0:00:03.037)       0:00:03.126 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Wednesday 12 June 2024  02:09:21 -0400 (0:00:00.028)       0:00:03.154 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Wednesday 12 June 2024  02:09:21 -0400 (0:00:00.034)       0:00:03.188 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Wednesday 12 June 2024  02:09:21 -0400 (0:00:00.033)       0:00:03.222 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Wednesday 12 June 2024  02:09:22 -0400 (0:00:00.861)       0:00:04.084 ******** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.351)       0:00:04.435 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.016)       0:00:04.451 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.015)       0:00:04.467 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.026)       0:00:04.493 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.017)       0:00:04.510 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.017)       0:00:04.528 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Wednesday 12 June 2024  02:09:23 -0400 (0:00:00.446)       0:00:04.975 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Wednesday 12 June 2024  02:09:26 -0400 (0:00:02.726)       0:00:07.702 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:09:33 -0400 (0:00:07.278)       0:00:14.980 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Wednesday 12 June 2024  02:09:36 -0400 (0:00:03.242)       0:00:18.223 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.664)       0:00:18.887 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.020)       0:00:18.908 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.025)       0:00:18.934 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.023)       0:00:18.957 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.015)       0:00:18.973 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.015)       0:00:18.988 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.017)       0:00:19.005 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.015)       0:00:19.021 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.027)       0:00:19.049 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.015)       0:00:19.064 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.016)       0:00:19.081 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.036)       0:00:19.117 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.037)       0:00:19.155 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.025)       0:00:19.180 ******** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=9    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Wednesday 12 June 2024  02:09:37 -0400 (0:00:00.033)       0:00:19.214 ******** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 7.28s
install prerequisites packages ------------------------------------------ 3.24s
Gathering Facts --------------------------------------------------------- 3.04s
install package --------------------------------------------------------- 2.73s
configure ceph repository key ------------------------------------------- 0.86s
ensure chronyd is running ----------------------------------------------- 0.66s
enable required CentOS repository for epel ------------------------------ 0.45s
configure ceph stable repository ---------------------------------------- 0.35s
fail if insecure_registry is undefined ---------------------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
install docker ---------------------------------------------------------- 0.04s
disable older rhceph repositories if any -------------------------------- 0.03s
set_fact _ceph_repo ----------------------------------------------------- 0.03s
add registry as insecure registry in registries.conf -------------------- 0.03s
enable red hat ceph storage tools repository ---------------------------- 0.03s
uninstall old version packages ------------------------------------------ 0.03s
remove ceph_stable repositories ----------------------------------------- 0.03s
configure ceph community repository stable key -------------------------- 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.03s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Wednesday 12 June 2024  02:09:38 -0400 (0:00:00.080)       0:00:00.080 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Wednesday 12 June 2024  02:09:38 -0400 (0:00:00.320)       0:00:00.401 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Wednesday 12 June 2024  02:09:39 -0400 (0:00:00.378)       0:00:00.780 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Wednesday 12 June 2024  02:09:39 -0400 (0:00:00.020)       0:00:00.800 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Wednesday 12 June 2024  02:09:40 -0400 (0:00:01.575)       0:00:02.376 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Wednesday 12 June 2024  02:09:40 -0400 (0:00:00.029)       0:00:02.405 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Wednesday 12 June 2024  02:09:40 -0400 (0:00:00.031)       0:00:02.436 ******** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Bootstrap Ceph cluster] ************************************
Wednesday 12 June 2024  02:09:40 -0400 (0:00:00.022)       0:00:02.458 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster without apply_spec] *****************
Wednesday 12 June 2024  02:10:31 -0400 (0:00:50.655)       0:00:53.114 ******** 
fatal: [ceph-node-00.cephlab.com]: FAILED! => changed=true 
  cmd:
  - cephadm
  - bootstrap
  - --allow-fqdn-hostname
  - --mon-ip
  - 192.168.122.12
  - --single-host-defaults
  delta: '0:00:00.147026'
  end: '2024-06-12 02:10:32.008194'
  rc: 1
  start: '2024-06-12 02:10:31.861168'
  stderr: 'ERROR: /etc/ceph/ceph.conf already exists; delete or pass --allow-overwrite to overwrite'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Wednesday 12 June 2024  02:10:32 -0400 (0:00:00.403)       0:00:53.517 ******** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster ----------------------------------- 50.66s
deploy_ceph : Gather facts ---------------------------------------------- 1.58s
deploy_ceph : Bootstrap Ceph cluster without apply_spec ----------------- 0.40s
deploy_ceph : Login to Ceph registry ------------------------------------ 0.38s
deploy_ceph : Check if Ceph cluster already exists ---------------------- 0.32s
deploy_ceph : Set single_host_defaults if only one host ----------------- 0.03s
deploy_ceph : Count the number of hosts --------------------------------- 0.03s
deploy_ceph : Debug single_host_defaults value -------------------------- 0.02s
deploy_ceph : Set cluster_network fact if network_cidr is defined ------- 0.02s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.010)       0:00:00.010 ******** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.037)       0:00:00.047 ******** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.015)       0:00:00.063 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.056)       0:00:00.119 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.021)       0:00:00.140 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.017)       0:00:00.157 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Wednesday 12 June 2024  02:14:49 -0400 (0:00:00.024)       0:00:00.181 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.834)       0:00:01.016 ******** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.319)       0:00:01.336 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.018)       0:00:01.354 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.017)       0:00:01.372 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.025)       0:00:01.398 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.020)       0:00:01.419 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Wednesday 12 June 2024  02:14:50 -0400 (0:00:00.017)       0:00:01.436 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Wednesday 12 June 2024  02:14:51 -0400 (0:00:00.532)       0:00:01.969 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Wednesday 12 June 2024  02:14:54 -0400 (0:00:03.608)       0:00:05.578 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:15:01 -0400 (0:00:06.552)       0:00:12.130 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:03.096)       0:00:15.226 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.560)       0:00:15.787 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.014)       0:00:15.802 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.015)       0:00:15.817 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.015)       0:00:15.832 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.014)       0:00:15.847 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:15:04 -0400 (0:00:00.019)       0:00:15.867 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.021)       0:00:15.888 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.022)       0:00:15.911 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.055)       0:00:15.967 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.023)       0:00:15.990 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.019)       0:00:16.010 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.054)       0:00:16.065 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.061)       0:00:16.127 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.033)       0:00:16.160 ******** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.043)       0:00:16.203 ******** 
=============================================================================== 
install ceph-common on rhel --------------------------------------------- 6.55s
install package --------------------------------------------------------- 3.61s
install prerequisites packages ------------------------------------------ 3.10s
configure ceph repository key ------------------------------------------- 0.83s
ensure chronyd is running ----------------------------------------------- 0.56s
enable required CentOS repository for epel ------------------------------ 0.53s
configure ceph stable repository ---------------------------------------- 0.32s
fail if insecure_registry is undefined ---------------------------------- 0.06s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.06s
uninstall old version packages ------------------------------------------ 0.06s
install docker ---------------------------------------------------------- 0.05s
add registry as insecure registry in registries.conf -------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.04s
fail if insecure_registry is undefined ---------------------------------- 0.03s
remove ceph_stable repositories ----------------------------------------- 0.03s
set_fact _ceph_repo ----------------------------------------------------- 0.02s
configure docker repository key ----------------------------------------- 0.02s
install podman ---------------------------------------------------------- 0.02s
install prerequisites packages ------------------------------------------ 0.02s
enable red hat ceph storage tools repository ---------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Wednesday 12 June 2024  02:15:05 -0400 (0:00:00.050)       0:00:00.050 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Wednesday 12 June 2024  02:15:06 -0400 (0:00:00.371)       0:00:00.421 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Wednesday 12 June 2024  02:15:06 -0400 (0:00:00.394)       0:00:00.815 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Wednesday 12 June 2024  02:15:06 -0400 (0:00:00.020)       0:00:00.836 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:01.686)       0:00:02.522 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.031)       0:00:02.554 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.029)       0:00:02.584 ******** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Set apply_spec fact if spec_file_path is defined] **********
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.016)       0:00:02.600 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug apply_spec value] ************************************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.020)       0:00:02.621 ******** 
ok: [ceph-node-00.cephlab.com] => 
  apply_spec: VARIABLE IS NOT DEFINED!

TASK [deploy_ceph : Bootstrap Ceph cluster with apply_spec] ********************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.023)       0:00:02.645 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster without apply_spec] *****************
Wednesday 12 June 2024  02:15:08 -0400 (0:00:00.029)       0:00:02.674 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Wednesday 12 June 2024  02:16:00 -0400 (0:00:51.995)       0:00:54.670 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Wednesday 12 June 2024  02:16:01 -0400 (0:00:01.366)       0:00:56.037 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Wednesday 12 June 2024  02:16:02 -0400 (0:00:00.859)       0:00:56.896 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Wednesday 12 June 2024  02:16:04 -0400 (0:00:01.764)       0:00:58.661 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Wednesday 12 June 2024  02:16:04 -0400 (0:00:00.356)       0:00:59.017 ******** 
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Wednesday 12 June 2024  02:16:04 -0400 (0:00:00.046)       0:00:59.064 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:16:14 -0400 (0:00:09.264)       0:01:08.328 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:16:14 -0400 (0:00:00.759)       0:01:09.087 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Wednesday 12 June 2024  02:16:14 -0400 (0:00:00.033)       0:01:09.121 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Wednesday 12 June 2024  02:16:15 -0400 (0:00:00.051)       0:01:09.172 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Wednesday 12 June 2024  02:16:15 -0400 (0:00:00.913)       0:01:10.086 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:16:18 -0400 (0:00:02.693)       0:01:12.779 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:16:19 -0400 (0:00:00.723)       0:01:13.503 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Wednesday 12 June 2024  02:16:19 -0400 (0:00:00.024)       0:01:13.527 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Wednesday 12 June 2024  02:16:19 -0400 (0:00:00.030)       0:01:13.558 ******** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Wednesday 12 June 2024  02:16:19 -0400 (0:00:00.047)       0:01:13.605 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:00:35.381210'
  end: '2024-06-12 02:16:55.023964'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:19.642754'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.071508'
  end: '2024-06-12 02:16:55.372979'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:55.301471'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Wednesday 12 June 2024  02:16:55 -0400 (0:00:35.952)       0:01:49.557 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Wednesday 12 June 2024  02:16:55 -0400 (0:00:00.075)       0:01:49.633 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Wednesday 12 June 2024  02:16:56 -0400 (0:00:00.972)       0:01:50.605 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.076689'
  end: '2024-06-12 02:16:56.837940'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:56.761251'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.080869'
  end: '2024-06-12 02:16:57.156325'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:57.075456'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Wednesday 12 June 2024  02:16:57 -0400 (0:00:00.735)       0:01:51.341 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Wednesday 12 June 2024  02:16:57 -0400 (0:00:00.091)       0:01:51.432 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Wednesday 12 June 2024  02:16:58 -0400 (0:00:00.732)       0:01:52.165 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.082890'
  end: '2024-06-12 02:16:58.301650'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:58.218760'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:02.106554'
  end: '2024-06-12 02:17:00.669093'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:16:58.562539'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Wednesday 12 June 2024  02:17:00 -0400 (0:00:02.721)       0:01:54.887 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Wednesday 12 June 2024  02:17:00 -0400 (0:00:00.117)       0:01:55.005 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Wednesday 12 June 2024  02:17:02 -0400 (0:00:01.490)       0:01:56.495 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Wednesday 12 June 2024  02:17:18 -0400 (0:00:16.347)       0:02:12.843 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:17:18 -0400 (0:00:00.023)       0:02:12.867 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:17:19 -0400 (0:00:00.599)       0:02:13.467 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Wednesday 12 June 2024  02:17:19 -0400 (0:00:00.017)       0:02:13.484 ******** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Wednesday 12 June 2024  02:17:19 -0400 (0:00:00.038)       0:02:13.523 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Wednesday 12 June 2024  02:17:19 -0400 (0:00:00.503)       0:02:14.027 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Wednesday 12 June 2024  02:17:19 -0400 (0:00:00.077)       0:02:14.105 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Wednesday 12 June 2024  02:17:20 -0400 (0:00:00.053)       0:02:14.158 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Wednesday 12 June 2024  02:17:20 -0400 (0:00:00.548)       0:02:14.706 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Wednesday 12 June 2024  02:17:20 -0400 (0:00:00.066)       0:02:14.773 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Wednesday 12 June 2024  02:17:20 -0400 (0:00:00.045)       0:02:14.819 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Wednesday 12 June 2024  02:17:21 -0400 (0:00:00.578)       0:02:15.397 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Wednesday 12 June 2024  02:17:21 -0400 (0:00:00.095)       0:02:15.493 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Wednesday 12 June 2024  02:17:21 -0400 (0:00:00.041)       0:02:15.534 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.798)       0:02:16.333 ******** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_ec_pool.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Debug EC pool variables] ***********************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.043)       0:02:16.376 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: zone1'
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => 
  msg:
  - 'ec_data_pool_pg_num: 128'
  - 'ec_data_pool_pgp_num: 128'
  - 'ec_data_pool_profile: default'
  - 'ec_data_pool_profile_k: 2'
  - 'ec_data_pool_profile_m: 1'
  - 'rgw_zone: singlezone'

TASK [deploy_ceph : Check if EC profile exists] ********************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.053)       0:02:16.430 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug EC profile existence result] *************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.506)       0:02:16.936 ******** 
ok: [ceph-node-00.cephlab.com] => 
  ec_profile_exists:
    changed: true
    cmd: ceph osd erasure-code-profile get default
    delta: '0:00:00.295432'
    end: '2024-06-12 02:17:22.767322'
    failed: false
    msg: ''
    rc: 0
    start: '2024-06-12 02:17:22.471890'
    stderr: ''
    stderr_lines: []
    stdout: |-
      k=2
      m=2
      plugin=jerasure
      technique=reed_sol_van
    stdout_lines:
    - k=2
    - m=2
    - plugin=jerasure
    - technique=reed_sol_van

TASK [deploy_ceph : Create EC profile] *****************************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.025)       0:02:16.962 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if EC pool exists] ***********************************
Wednesday 12 June 2024  02:17:22 -0400 (0:00:00.029)       0:02:16.991 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep zone1.rgw.buckets.data
  delta: '0:00:00.347204'
  end: '2024-06-12 02:17:23.372194'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:17:23.024990'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
  delta: '0:00:00.291132'
  end: '2024-06-12 02:17:23.855039'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:17:23.563907'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Debug EC pool existence result] ****************************
Wednesday 12 June 2024  02:17:23 -0400 (0:00:01.037)       0:02:18.029 ******** 
ok: [ceph-node-00.cephlab.com] => 
  ec_pool_exists:
    changed: true
    failed: true
    msg: One or more items failed
    results:
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep zone1.rgw.buckets.data
      delta: '0:00:00.347204'
      end: '2024-06-12 02:17:23.372194'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep zone1.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec_sync
        rgw_count_per_host: 1
        rgw_frontend_port: 8000
        rgw_id: rgwsync
        rgw_label: rgwsync
        rgw_realm: multisite
        rgw_zone: zone1
        rgw_zonegroup: multizg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-12 02:17:23.024990'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    - ansible_loop_var: item
      changed: true
      cmd: ceph osd lspools | grep singlezone.rgw.buckets.data
      delta: '0:00:00.291132'
      end: '2024-06-12 02:17:23.855039'
      failed: true
      invocation:
        module_args:
          _raw_params: ceph osd lspools | grep singlezone.rgw.buckets.data
          _uses_shell: true
          argv: null
          chdir: null
          creates: null
          executable: null
          removes: null
          stdin: null
          stdin_add_newline: true
          strip_empty_ends: true
      item:
        name: rgw_spec
        rgw_count_per_host: 1
        rgw_frontend_port: 8001
        rgw_id: rgw
        rgw_label: rgw
        rgw_realm: single
        rgw_zone: singlezone
        rgw_zonegroup: singlezg
        template: rgw_spec.j2
      msg: non-zero return code
      rc: 1
      start: '2024-06-12 02:17:23.563907'
      stderr: ''
      stderr_lines: []
      stdout: ''
      stdout_lines: []
    skipped: false

TASK [deploy_ceph : Create EC pool] ********************************************
Wednesday 12 June 2024  02:17:23 -0400 (0:00:00.030)       0:02:18.060 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: ceph osd pool create singlezone.rgw.buckets.data 128 128 erasure default
  delta: '0:00:00.987376'
  end: '2024-06-12 02:17:26.878233'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 34
  start: '2024-06-12 02:17:25.890857'
  stderr: 'Error ERANGE:  pg_num 128 size 4 for this pool would result in 341 cumulative PGs per OSD (1024 total PG replicas on 3 ''in'' root OSDs by crush rule) which exceeds the mon_max_pg_per_osd value of 250'
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=50   changed=18   unreachable=0    failed=1    skipped=7    rescued=0    ignored=4   

Wednesday 12 June 2024  02:17:26 -0400 (0:00:02.995)       0:02:21.056 ******** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster without apply_spec ---------------- 52.00s
deploy_ceph : Check if RGW realm exists -------------------------------- 35.95s
deploy_ceph : Update RGW period ---------------------------------------- 16.35s
deploy_ceph : Add host to the Ceph cluster ------------------------------ 9.26s
deploy_ceph : Create EC pool -------------------------------------------- 3.00s
deploy_ceph : Check if RGW zone exists ---------------------------------- 2.72s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 2.69s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.77s
deploy_ceph : Gather facts ---------------------------------------------- 1.69s
deploy_ceph : Create RGW zone ------------------------------------------- 1.49s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.37s
deploy_ceph : Check if EC pool exists ----------------------------------- 1.04s
deploy_ceph : Create RGW realm ------------------------------------------ 0.97s
deploy_ceph : Render the OSD service spec template ---------------------- 0.91s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.86s
deploy_ceph : Update RGW period ----------------------------------------- 0.80s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.76s
deploy_ceph : Check if RGW zonegroup exists ----------------------------- 0.74s
deploy_ceph : Create RGW zonegroup -------------------------------------- 0.73s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.72s

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.010)       0:00:00.010 ******** 
skipping: [localhost]

PLAY [localhost] ***************************************************************

TASK [fail when ceph_origin is custom with no repository defined] **************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.045)       0:00:00.055 ******** 
skipping: [localhost]

TASK [fail if baseurl is not defined for ceph_custom_repositories] *************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.013)       0:00:00.068 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [enable red hat ceph storage tools repository] ****************************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.034)       0:00:00.103 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [disable older rhceph repositories if any] ********************************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.017)       0:00:00.121 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact _ceph_repo] *****************************************************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.016)       0:00:00.137 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph repository key] *******************************************
Wednesday 12 June 2024  02:29:00 -0400 (0:00:00.026)       0:00:00.163 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [configure ceph stable repository] ****************************************
Wednesday 12 June 2024  02:29:02 -0400 (0:00:02.206)       0:00:02.369 ******** 
ok: [ceph-node-00.cephlab.com] => (item=$basearch)

TASK [fetch ceph development repository] ***************************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.319)       0:00:02.689 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph development repository] ***********************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.021)       0:00:02.711 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [remove ceph_stable repositories] *****************************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.021)       0:00:02.732 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable) 
skipping: [ceph-node-00.cephlab.com] => (item=ceph_stable_noarch) 
skipping: [ceph-node-00.cephlab.com]

TASK [set_fact ceph_custom_repositories] ***************************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.034)       0:00:02.767 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup custom repositories] ***********************************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.030)       0:00:02.797 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [enable required CentOS repository for epel] ******************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.022)       0:00:02.819 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install package] *********************************************************
Wednesday 12 June 2024  02:29:03 -0400 (0:00:00.458)       0:00:03.278 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install ceph-common on rhel] *********************************************
Wednesday 12 June 2024  02:29:07 -0400 (0:00:03.482)       0:00:06.761 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:29:20 -0400 (0:00:13.521)       0:00:20.283 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [ensure chronyd is running] ***********************************************
Wednesday 12 June 2024  02:29:24 -0400 (0:00:04.012)       0:00:24.295 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [prevent ceph certificate error] ******************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.573)       0:00:24.869 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure ceph community repository stable key] **************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.016)       0:00:24.885 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph community repository] *************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.015)       0:00:24.901 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph testing repository] ***************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.016)       0:00:24.918 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [configure Ceph custom repositories] **************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.014)       0:00:24.933 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install prerequisites packages] ******************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.015)       0:00:24.949 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install podman] **********************************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.016)       0:00:24.966 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [uninstall old version packages] ******************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.014)       0:00:24.980 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-engine) 
skipping: [ceph-node-00.cephlab.com] => (item=docker.io) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd) 
skipping: [ceph-node-00.cephlab.com] => (item=runc) 
skipping: [ceph-node-00.cephlab.com]

TASK [configure docker repository key] *****************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.027)       0:00:25.008 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [setup docker repository] *************************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.018)       0:00:25.026 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [install docker] **********************************************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.016)       0:00:25.043 ******** 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce) 
skipping: [ceph-node-00.cephlab.com] => (item=docker-ce-cli) 
skipping: [ceph-node-00.cephlab.com] => (item=containerd.io) 
skipping: [ceph-node-00.cephlab.com]

PLAY [localhost] ***************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.039)       0:00:25.082 ******** 
skipping: [localhost]

PLAY [all] *********************************************************************

TASK [fail if insecure_registry is undefined] **********************************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.044)       0:00:25.127 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [add registry as insecure registry in registries.conf] ********************
Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.029)       0:00:25.157 ******** 
skipping: [ceph-node-00.cephlab.com]

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=8    changed=2    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
localhost                  : ok=0    changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   

Wednesday 12 June 2024  02:29:25 -0400 (0:00:00.044)       0:00:25.202 ******** 
=============================================================================== 
install ceph-common on rhel -------------------------------------------- 13.52s
install prerequisites packages ------------------------------------------ 4.01s
install package --------------------------------------------------------- 3.48s
configure ceph repository key ------------------------------------------- 2.21s
ensure chronyd is running ----------------------------------------------- 0.57s
enable required CentOS repository for epel ------------------------------ 0.46s
configure ceph stable repository ---------------------------------------- 0.32s
fail if insecure_registry is undefined ---------------------------------- 0.05s
add registry as insecure registry in registries.conf -------------------- 0.05s
fail if insecure_registry is undefined ---------------------------------- 0.04s
install docker ---------------------------------------------------------- 0.04s
fail if baseurl is not defined for ceph_custom_repositories ------------- 0.04s
remove ceph_stable repositories ----------------------------------------- 0.03s
set_fact ceph_custom_repositories --------------------------------------- 0.03s
fail if insecure_registry is undefined ---------------------------------- 0.03s
uninstall old version packages ------------------------------------------ 0.03s
set_fact _ceph_repo ----------------------------------------------------- 0.03s
setup custom repositories ----------------------------------------------- 0.02s
fetch ceph development repository --------------------------------------- 0.02s
configure ceph development repository ----------------------------------- 0.02s

PLAY [Bootstrap Ceph Cluster] **************************************************

TASK [deploy_ceph : Check if Ceph cluster already exists] **********************
Wednesday 12 June 2024  02:29:26 -0400 (0:00:00.050)       0:00:00.050 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Login to Ceph registry] ************************************
Wednesday 12 June 2024  02:29:26 -0400 (0:00:00.278)       0:00:00.329 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set cluster_network fact if network_cidr is defined] *******
Wednesday 12 June 2024  02:29:27 -0400 (0:00:00.445)       0:00:00.775 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts] **********************************************
Wednesday 12 June 2024  02:29:27 -0400 (0:00:00.020)       0:00:00.795 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Count the number of hosts] *********************************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:01.598)       0:00:02.394 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set single_host_defaults if only one host] *****************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.028)       0:00:02.422 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug single_host_defaults value] **************************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.031)       0:00:02.453 ******** 
ok: [ceph-node-00.cephlab.com] => 
  single_host_defaults: true

TASK [deploy_ceph : Set apply_spec fact if spec_file_path is defined] **********
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.020)       0:00:02.474 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug apply_spec value] ************************************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.020)       0:00:02.495 ******** 
ok: [ceph-node-00.cephlab.com] => 
  apply_spec: VARIABLE IS NOT DEFINED!

TASK [deploy_ceph : Bootstrap Ceph cluster with apply_spec] ********************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.026)       0:00:02.521 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Bootstrap Ceph cluster without apply_spec] *****************
Wednesday 12 June 2024  02:29:28 -0400 (0:00:00.026)       0:00:02.548 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Gather facts for all hosts] ********************************
Wednesday 12 June 2024  02:30:20 -0400 (0:00:51.664)       0:00:54.212 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Extract Ceph cluster public SSH key] ***********************
Wednesday 12 June 2024  02:30:21 -0400 (0:00:01.337)       0:00:55.550 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Copy Ceph cluster public SSH key to new host] **************
Wednesday 12 June 2024  02:30:22 -0400 (0:00:00.993)       0:00:56.543 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Ensure known hosts file is updated] ************************
Wednesday 12 June 2024  02:30:24 -0400 (0:00:01.756)       0:00:58.300 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Debug hostname and IP] *************************************
Wednesday 12 June 2024  02:30:25 -0400 (0:00:00.429)       0:00:58.729 ******** 
ok: [ceph-node-00.cephlab.com] => 
  msg: 'Hostname: ceph-node-00.cephlab.com, IP Address: 192.168.122.12'

TASK [deploy_ceph : Add host to the Ceph cluster] ******************************
Wednesday 12 June 2024  02:30:25 -0400 (0:00:00.038)       0:00:58.768 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:30:34 -0400 (0:00:08.970)       0:01:07.739 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:30:35 -0400 (0:00:00.848)       0:01:08.588 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Determine OSD configuration type] **************************
Wednesday 12 June 2024  02:30:35 -0400 (0:00:00.026)       0:01:08.614 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the OSD service spec template] **********************
Wednesday 12 June 2024  02:30:35 -0400 (0:00:00.040)       0:01:08.655 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Apply the OSD Ceph service spec] ***************************
Wednesday 12 June 2024  02:30:35 -0400 (0:00:00.916)       0:01:09.572 ******** 
changed: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:30:38 -0400 (0:00:02.720)       0:01:12.292 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:30:39 -0400 (0:00:00.844)       0:01:13.137 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set delegate host fact] ************************************
Wednesday 12 June 2024  02:30:39 -0400 (0:00:00.032)       0:01:13.169 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Wednesday 12 June 2024  02:30:39 -0400 (0:00:00.032)       0:01:13.202 ******** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Wednesday 12 June 2024  02:30:39 -0400 (0:00:00.057)       0:01:13.259 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w multisite
  delta: '0:00:40.776486'
  end: '2024-06-12 02:31:20.762568'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:30:39.986082'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin realm list | grep -w single
  delta: '0:00:00.060224'
  end: '2024-06-12 02:31:21.114146'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:31:21.053922'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Wednesday 12 June 2024  02:31:21 -0400 (0:00:41.484)       0:01:54.744 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Wednesday 12 June 2024  02:31:21 -0400 (0:00:00.089)       0:01:54.834 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Wednesday 12 June 2024  02:31:22 -0400 (0:00:01.551)       0:01:56.385 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w multizg
  delta: '0:00:00.174593'
  end: '2024-06-12 02:31:23.340082'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:31:23.165489'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zonegroup list | grep -w singlezg
  delta: '0:00:00.127020'
  end: '2024-06-12 02:31:23.807150'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:31:23.680130'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Wednesday 12 June 2024  02:31:23 -0400 (0:00:01.051)       0:01:57.437 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Wednesday 12 June 2024  02:31:23 -0400 (0:00:00.075)       0:01:57.513 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Wednesday 12 June 2024  02:31:24 -0400 (0:00:00.874)       0:01:58.387 ******** 
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w zone1
  delta: '0:00:00.083176'
  end: '2024-06-12 02:31:25.149858'
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:31:25.066682'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) => changed=true 
  ansible_loop_var: item
  cmd: radosgw-admin zone list | grep -w singlezone
  delta: '0:00:00.086627'
  end: '2024-06-12 02:31:25.499463'
  item:
    name: rgw_spec
    rgw_count_per_host: 1
    rgw_frontend_port: 8001
    rgw_id: rgw
    rgw_label: rgw
    rgw_realm: single
    rgw_zone: singlezone
    rgw_zonegroup: singlezg
    template: rgw_spec.j2
  msg: non-zero return code
  rc: 1
  start: '2024-06-12 02:31:25.412836'
  stderr: ''
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>
...ignoring

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Wednesday 12 June 2024  02:31:25 -0400 (0:00:00.740)       0:01:59.127 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Wednesday 12 June 2024  02:31:25 -0400 (0:00:00.114)       0:01:59.241 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Update RGW period] *****************************************
Wednesday 12 June 2024  02:31:26 -0400 (0:00:00.887)       0:02:00.129 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set delegate host fact] ************************************
Wednesday 12 June 2024  02:31:42 -0400 (0:00:15.894)       0:02:16.023 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Retrieve Ceph fsid] ****************************************
Wednesday 12 June 2024  02:31:42 -0400 (0:00:00.025)       0:02:16.049 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Set Ceph fsid fact] ****************************************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.602)       0:02:16.651 ******** 
ok: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Include tasks to create RGW resources] *********************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.018)       0:02:16.669 ******** 
included: /root/ibm_ceph_ansible_deploy/deploy_ceph/tasks/create_rgw_resources.yml for ceph-node-00.cephlab.com

TASK [deploy_ceph : Check if RGW realm exists] *********************************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.038)       0:02:16.708 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW realm existence] **************************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.546)       0:02:17.254 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW realm] ******************************************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.079)       0:02:17.334 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if RGW zonegroup exists] *****************************
Wednesday 12 June 2024  02:31:43 -0400 (0:00:00.062)       0:02:17.396 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zonegroup existence] **********************
Wednesday 12 June 2024  02:31:44 -0400 (0:00:00.495)       0:02:17.891 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zonegroup] **************************************
Wednesday 12 June 2024  02:31:44 -0400 (0:00:00.062)       0:02:17.953 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Check if RGW zone exists] **********************************
Wednesday 12 June 2024  02:31:44 -0400 (0:00:00.040)       0:02:17.993 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Set fact for RGW zone existence] ***************************
Wednesday 12 June 2024  02:31:45 -0400 (0:00:00.589)       0:02:18.583 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Create RGW zone] *******************************************
Wednesday 12 June 2024  02:31:45 -0400 (0:00:00.059)       0:02:18.642 ******** 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) 
skipping: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'}) 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Update RGW period] *****************************************
Wednesday 12 June 2024  02:31:45 -0400 (0:00:00.036)       0:02:18.679 ******** 
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Include tasks to create EC pool] ***************************
Wednesday 12 June 2024  02:31:45 -0400 (0:00:00.844)       0:02:19.523 ******** 
skipping: [ceph-node-00.cephlab.com]

TASK [deploy_ceph : Render the RGW service spec templates] *********************
Wednesday 12 June 2024  02:31:45 -0400 (0:00:00.034)       0:02:19.558 ******** 
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'})
ok: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

TASK [deploy_ceph : Apply the RGW service specs] *******************************
Wednesday 12 June 2024  02:31:47 -0400 (0:00:01.024)       0:02:20.582 ******** 
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: Error EINVAL: Cannot place <RGWSpec for service_name=rgw.rgwsync>: No matching hosts for label rgwsync
failed: [ceph-node-00.cephlab.com] (item={'name': 'rgw_spec_sync', 'template': 'rgw_spec.j2', 'rgw_label': 'rgwsync', 'rgw_count_per_host': 1, 'rgw_realm': 'multisite', 'rgw_zone': 'zone1', 'rgw_zonegroup': 'multizg', 'rgw_frontend_port': 8000, 'rgw_id': 'rgwsync'}) => changed=false 
  ansible_loop_var: item
  item:
    name: rgw_spec_sync
    rgw_count_per_host: 1
    rgw_frontend_port: 8000
    rgw_id: rgwsync
    rgw_label: rgwsync
    rgw_realm: multisite
    rgw_zone: zone1
    rgw_zonegroup: multizg
    template: rgw_spec.j2
  module_stderr: |-
    Traceback (most recent call last):
      File "<stdin>", line 107, in <module>
      File "<stdin>", line 99, in _ansiballz_main
      File "<stdin>", line 47, in invoke_module
      File "/usr/lib64/python3.9/runpy.py", line 225, in run_module
        return _run_module_code(code, init_globals, run_name, mod_spec)
      File "/usr/lib64/python3.9/runpy.py", line 97, in _run_module_code
        _run_code(code, mod_globals, init_globals,
      File "/usr/lib64/python3.9/runpy.py", line 87, in _run_code
        exec(code, run_globals)
      File "/tmp/ansible_ceph_orch_apply_payload_s00s_7j2/ansible_ceph_orch_apply_payload.zip/ansible/modules/ceph_orch_apply.py", line 129, in <module>
      File "/tmp/ansible_ceph_orch_apply_payload_s00s_7j2/ansible_ceph_orch_apply_payload.zip/ansible/modules/ceph_orch_apply.py", line 114, in main
      File "/tmp/ansible_ceph_orch_apply_payload_s00s_7j2/ansible_ceph_orch_apply_payload.zip/ansible/modules/ceph_orch_apply.py", line 80, in apply_spec
    RuntimeError: Inferring config /var/lib/ceph/1f7cc398-2885-11ef-bee3-52540016bbfa/mon.ceph-node-00/config
    Using ceph image with id '84443dff40cc' and tag 'latest' created on 2024-04-24 00:09:22 +0000 UTC
    cp.icr.io/cp/ibm-ceph/ceph-7-rhel9@sha256:dfdc5d46b60f70d8826594ee72b07a28ab6400f83f798162b61053306076c643
    Error EINVAL: Cannot place <RGWSpec for service_name=rgw.rgwsync>: No matching hosts for label rgwsync
  module_stdout: ''
  msg: |-
    MODULE FAILURE
    See stdout/stderr for the exact error
  rc: 1
changed: [ceph-node-00.cephlab.com] => (item={'name': 'rgw_spec', 'template': 'rgw_spec.j2', 'rgw_label': 'rgw', 'rgw_count_per_host': 1, 'rgw_realm': 'single', 'rgw_zone': 'singlezone', 'rgw_zonegroup': 'singlezg', 'rgw_frontend_port': 8001, 'rgw_id': 'rgw'})

NO MORE HOSTS LEFT *************************************************************

PLAY RECAP *********************************************************************
ceph-node-00.cephlab.com   : ok=45   changed=16   unreachable=0    failed=1    skipped=7    rescued=0    ignored=3   

Wednesday 12 June 2024  02:31:49 -0400 (0:00:02.910)       0:02:23.493 ******** 
=============================================================================== 
deploy_ceph : Bootstrap Ceph cluster without apply_spec ---------------- 51.66s
deploy_ceph : Check if RGW realm exists -------------------------------- 41.49s
deploy_ceph : Update RGW period ---------------------------------------- 15.89s
deploy_ceph : Add host to the Ceph cluster ------------------------------ 8.97s
deploy_ceph : Apply the RGW service specs ------------------------------- 2.91s
deploy_ceph : Apply the OSD Ceph service spec --------------------------- 2.72s
deploy_ceph : Copy Ceph cluster public SSH key to new host -------------- 1.76s
deploy_ceph : Gather facts ---------------------------------------------- 1.60s
deploy_ceph : Create RGW realm ------------------------------------------ 1.55s
deploy_ceph : Gather facts for all hosts -------------------------------- 1.34s
deploy_ceph : Check if RGW zonegroup exists ----------------------------- 1.05s
deploy_ceph : Render the RGW service spec templates --------------------- 1.02s
deploy_ceph : Extract Ceph cluster public SSH key ----------------------- 0.99s
deploy_ceph : Render the OSD service spec template ---------------------- 0.92s
deploy_ceph : Create RGW zone ------------------------------------------- 0.89s
deploy_ceph : Create RGW zonegroup -------------------------------------- 0.87s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.85s
deploy_ceph : Retrieve Ceph fsid ---------------------------------------- 0.84s
deploy_ceph : Update RGW period ----------------------------------------- 0.84s
deploy_ceph : Check if RGW zone exists ---------------------------------- 0.74s
